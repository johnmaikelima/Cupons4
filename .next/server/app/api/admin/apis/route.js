/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/apis/route";
exports.ids = ["app/api/admin/apis/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fapis%2Froute&page=%2Fapi%2Fadmin%2Fapis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fapis%2Froute.ts&appDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fapis%2Froute&page=%2Fapi%2Fadmin%2Fapis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fapis%2Froute.ts&appDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Fujitsu_Desktop_cupons_src_app_api_admin_apis_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/admin/apis/route.ts */ \"(rsc)/./src/app/api/admin/apis/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/apis/route\",\n        pathname: \"/api/admin/apis\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/apis/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Fujitsu\\\\Desktop\\\\cupons\\\\src\\\\app\\\\api\\\\admin\\\\apis\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Fujitsu_Desktop_cupons_src_app_api_admin_apis_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmFwaXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGYXBpcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFkbWluJTJGYXBpcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNGdWppdHN1JTVDRGVza3RvcCU1Q2N1cG9ucyU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDRnVqaXRzdSU1Q0Rlc2t0b3AlNUNjdXBvbnMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxGdWppdHN1XFxcXERlc2t0b3BcXFxcY3Vwb25zXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXGFwaXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL2FwaXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9hcGlzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZG1pbi9hcGlzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcRnVqaXRzdVxcXFxEZXNrdG9wXFxcXGN1cG9uc1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxhcGlzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fapis%2Froute&page=%2Fapi%2Fadmin%2Fapis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fapis%2Froute.ts&appDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/admin/apis/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/admin/apis/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _models_Api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/Api */ \"(rsc)/./src/models/Api.ts\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.isAdmin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        const data = await request.json();\n        const { name, provider, appToken, sourceId, baseUrl } = data;\n        if (!name || !provider) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Nome e provedor são obrigatórios'\n            }, {\n                status: 400\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n        // Verifica se já existe uma API com o mesmo nome\n        const existingApi = await _models_Api__WEBPACK_IMPORTED_MODULE_3__.Api.findOne({\n            name\n        });\n        if (existingApi) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Já existe uma API com este nome'\n            }, {\n                status: 400\n            });\n        }\n        // Cria a nova API\n        const api = await _models_Api__WEBPACK_IMPORTED_MODULE_3__.Api.create({\n            name,\n            provider,\n            appToken,\n            sourceId,\n            baseUrl,\n            active: true,\n            isActive: true\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(api);\n    } catch (error) {\n        console.error('Erro ao criar API:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || 'Erro ao criar API'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.isAdmin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n        const apis = await _models_Api__WEBPACK_IMPORTED_MODULE_3__.Api.find({\n            active: true\n        }).sort({\n            createdAt: -1\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(apis);\n    } catch (error) {\n        console.error('Erro ao listar APIs:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erro ao listar APIs'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.isAdmin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        const url = new URL(request.url);\n        const id = url.pathname.split('/').pop();\n        const data = await request.json();\n        const { name, provider, appToken, sourceId, baseUrl } = data;\n        if (!name || !provider) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Nome e provedor são obrigatórios'\n            }, {\n                status: 400\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n        // Verifica se já existe outra API com o mesmo nome\n        const existingApi = await _models_Api__WEBPACK_IMPORTED_MODULE_3__.Api.findOne({\n            name,\n            _id: {\n                $ne: id\n            }\n        });\n        if (existingApi) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Já existe uma API com este nome'\n            }, {\n                status: 400\n            });\n        }\n        // Atualiza a API\n        const api = await _models_Api__WEBPACK_IMPORTED_MODULE_3__.Api.findByIdAndUpdate(id, {\n            name,\n            provider,\n            appToken,\n            sourceId,\n            baseUrl\n        }, {\n            new: true\n        });\n        if (!api) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'API não encontrada'\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(api);\n    } catch (error) {\n        console.error('Erro ao atualizar API:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || 'Erro ao atualizar API'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hZG1pbi9hcGlzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyQztBQUNFO0FBQ0o7QUFDTjtBQUNHO0FBRS9CLGVBQWVLLEtBQUtDLE9BQWdCO0lBQ3pDLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU1OLDJEQUFnQkEsQ0FBQ0Msa0RBQVdBO1FBQ2xELElBQUksQ0FBQ0ssU0FBU0MsTUFBTUMsU0FBUztZQUMzQixPQUFPVCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN0RTtRQUVBLE1BQU1DLE9BQU8sTUFBTVAsUUFBUUksSUFBSTtRQUMvQixNQUFNLEVBQUVJLElBQUksRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFLEdBQUdMO1FBRXhELElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxVQUFVO1lBQ3RCLE9BQU9mLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQW1DLEdBQzVDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNUix3REFBU0E7UUFFZixpREFBaUQ7UUFDakQsTUFBTWUsY0FBYyxNQUFNaEIsNENBQUdBLENBQUNpQixPQUFPLENBQUM7WUFBRU47UUFBSztRQUM3QyxJQUFJSyxhQUFhO1lBQ2YsT0FBT25CLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWtDLEdBQzNDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxrQkFBa0I7UUFDbEIsTUFBTVMsTUFBTSxNQUFNbEIsNENBQUdBLENBQUNtQixNQUFNLENBQUM7WUFDM0JSO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FLLFFBQVE7WUFDUkMsVUFBVTtRQUNaO1FBRUEsT0FBT3hCLHFEQUFZQSxDQUFDVSxJQUFJLENBQUNXO0lBQzNCLEVBQUUsT0FBT1YsT0FBWTtRQUNu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c2Vyc1xcRnVqaXRzdVxcRGVza3RvcFxcY3Vwb25zXFxzcmNcXGFwcFxcYXBpXFxhZG1pblxcYXBpc1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnQC9tb2RlbHMvQXBpJztcbmltcG9ydCBjb25uZWN0REIgZnJvbSAnQC9saWIvbW9uZ29kYic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5pc0FkbWluKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ07Do28gYXV0b3JpemFkbycgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgeyBuYW1lLCBwcm92aWRlciwgYXBwVG9rZW4sIHNvdXJjZUlkLCBiYXNlVXJsIH0gPSBkYXRhO1xuXG4gICAgaWYgKCFuYW1lIHx8ICFwcm92aWRlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTm9tZSBlIHByb3ZlZG9yIHPDo28gb2JyaWdhdMOzcmlvcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGF3YWl0IGNvbm5lY3REQigpO1xuXG4gICAgLy8gVmVyaWZpY2Egc2UgasOhIGV4aXN0ZSB1bWEgQVBJIGNvbSBvIG1lc21vIG5vbWVcbiAgICBjb25zdCBleGlzdGluZ0FwaSA9IGF3YWl0IEFwaS5maW5kT25lKHsgbmFtZSB9KTtcbiAgICBpZiAoZXhpc3RpbmdBcGkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0rDoSBleGlzdGUgdW1hIEFQSSBjb20gZXN0ZSBub21lJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ3JpYSBhIG5vdmEgQVBJXG4gICAgY29uc3QgYXBpID0gYXdhaXQgQXBpLmNyZWF0ZSh7XG4gICAgICBuYW1lLFxuICAgICAgcHJvdmlkZXIsXG4gICAgICBhcHBUb2tlbixcbiAgICAgIHNvdXJjZUlkLFxuICAgICAgYmFzZVVybCxcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGFwaSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNyaWFyIEFQSTonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRXJybyBhbyBjcmlhciBBUEknIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlzQWRtaW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTsOjbyBhdXRvcml6YWRvJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGF3YWl0IGNvbm5lY3REQigpO1xuXG4gICAgY29uc3QgYXBpcyA9IGF3YWl0IEFwaS5maW5kKHsgYWN0aXZlOiB0cnVlIH0pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihhcGlzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGxpc3RhciBBUElzOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRXJybyBhbyBsaXN0YXIgQVBJcycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uaXNBZG1pbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdOw6NvIGF1dG9yaXphZG8nIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgaWQgPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nKS5wb3AoKTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IG5hbWUsIHByb3ZpZGVyLCBhcHBUb2tlbiwgc291cmNlSWQsIGJhc2VVcmwgfSA9IGRhdGE7XG5cbiAgICBpZiAoIW5hbWUgfHwgIXByb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdOb21lIGUgcHJvdmVkb3Igc8OjbyBvYnJpZ2F0w7NyaW9zJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgYXdhaXQgY29ubmVjdERCKCk7XG5cbiAgICAvLyBWZXJpZmljYSBzZSBqw6EgZXhpc3RlIG91dHJhIEFQSSBjb20gbyBtZXNtbyBub21lXG4gICAgY29uc3QgZXhpc3RpbmdBcGkgPSBhd2FpdCBBcGkuZmluZE9uZSh7IG5hbWUsIF9pZDogeyAkbmU6IGlkIH0gfSk7XG4gICAgaWYgKGV4aXN0aW5nQXBpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdKw6EgZXhpc3RlIHVtYSBBUEkgY29tIGVzdGUgbm9tZScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEF0dWFsaXphIGEgQVBJXG4gICAgY29uc3QgYXBpID0gYXdhaXQgQXBpLmZpbmRCeUlkQW5kVXBkYXRlKFxuICAgICAgaWQsXG4gICAgICB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICBhcHBUb2tlbixcbiAgICAgICAgc291cmNlSWQsXG4gICAgICAgIGJhc2VVcmwsXG4gICAgICB9LFxuICAgICAgeyBuZXc6IHRydWUgfVxuICAgICk7XG5cbiAgICBpZiAoIWFwaSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQVBJIG7Do28gZW5jb250cmFkYScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihhcGkpO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBhdHVhbGl6YXIgQVBJOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvIGFvIGF0dWFsaXphciBBUEknIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwiQXBpIiwiY29ubmVjdERCIiwiUE9TVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwidXNlciIsImlzQWRtaW4iLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwibmFtZSIsInByb3ZpZGVyIiwiYXBwVG9rZW4iLCJzb3VyY2VJZCIsImJhc2VVcmwiLCJleGlzdGluZ0FwaSIsImZpbmRPbmUiLCJhcGkiLCJjcmVhdGUiLCJhY3RpdmUiLCJpc0FjdGl2ZSIsImNvbnNvbGUiLCJtZXNzYWdlIiwiR0VUIiwiYXBpcyIsImZpbmQiLCJzb3J0IiwiY3JlYXRlZEF0IiwiUFVUIiwidXJsIiwiVVJMIiwiaWQiLCJwYXRobmFtZSIsInNwbGl0IiwicG9wIiwiX2lkIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/admin/apis/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n\n\n\n\nconst authOptions = {\n    secret: process.env.NEXTAUTH_SECRET || 'your-secret-key-here',\n    debug: \"development\" === 'development',\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: 'Credentials',\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Senha\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    console.log('Iniciando autenticação...');\n                    if (!credentials?.email || !credentials?.password) {\n                        console.log('Credenciais faltando:', {\n                            email: !!credentials?.email,\n                            password: !!credentials?.password\n                        });\n                        throw new Error('Credenciais inválidas');\n                    }\n                    console.log('Conectando ao MongoDB...');\n                    await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n                    console.log('Conectado ao MongoDB');\n                    const UserModel = (mongoose__WEBPACK_IMPORTED_MODULE_2___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_2___default().model('User', new (mongoose__WEBPACK_IMPORTED_MODULE_2___default().Schema)({\n                        email: {\n                            type: String,\n                            required: true,\n                            unique: true\n                        },\n                        password: {\n                            type: String,\n                            required: true\n                        },\n                        isAdmin: {\n                            type: Boolean,\n                            default: false\n                        },\n                        createdAt: {\n                            type: Date,\n                            default: Date.now\n                        }\n                    }));\n                    console.log('Buscando usuário...');\n                    const user = await UserModel.findOne({\n                        email: credentials.email\n                    });\n                    console.log('Usuário encontrado:', !!user);\n                    if (!user || !user.password) {\n                        console.log('Usuário não encontrado ou sem senha');\n                        throw new Error('Usuário não encontrado');\n                    }\n                    console.log('Verificando senha...');\n                    const isValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(credentials.password, user.password);\n                    console.log('Senha válida:', isValid);\n                    if (!isValid) {\n                        throw new Error('Senha incorreta');\n                    }\n                    console.log('Autenticação bem sucedida');\n                    return {\n                        id: user._id.toString(),\n                        email: user.email,\n                        isAdmin: user.isAdmin\n                    };\n                } catch (error) {\n                    console.error('Erro na autenticação:', error);\n                    throw error;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async redirect ({ url, baseUrl }) {\n            if (url.startsWith(baseUrl)) return url;\n            return baseUrl + url;\n        },\n        async jwt ({ token, user }) {\n            if (user) {\n                token.isAdmin = user.isAdmin;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.isAdmin = token.isAdmin;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/admin/auth/login'\n    },\n    session: {\n        strategy: 'jwt'\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQWFrRTtBQUNwQztBQUNFO0FBQ007QUFFL0IsTUFBTUksY0FBK0I7SUFDMUNDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZSxJQUFJO0lBQ3ZDQyxPQUFPSCxrQkFBeUI7SUFDaENJLFdBQVc7UUFDVFYsMkVBQW1CQSxDQUFDO1lBQ2xCVyxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07Z0JBQVE7Z0JBQ3ZDQyxVQUFVO29CQUFFRixPQUFPO29CQUFTQyxNQUFNO2dCQUFXO1lBQy9DO1lBQ0EsTUFBTUUsV0FBVUwsV0FBVztnQkFDekIsSUFBSTtvQkFDRk0sUUFBUUMsR0FBRyxDQUFDO29CQUVaLElBQUksQ0FBQ1AsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO3dCQUNqREUsUUFBUUMsR0FBRyxDQUFDLHlCQUF5Qjs0QkFBRU4sT0FBTyxDQUFDLENBQUNELGFBQWFDOzRCQUFPRyxVQUFVLENBQUMsQ0FBQ0osYUFBYUk7d0JBQVM7d0JBQ3RHLE1BQU0sSUFBSUksTUFBTTtvQkFDbEI7b0JBRUFGLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixNQUFNaEIsd0RBQVNBO29CQUNmZSxRQUFRQyxHQUFHLENBQUM7b0JBRVosTUFBTUUsWUFBWW5CLHdEQUFlLENBQUNxQixJQUFJLElBQUlyQixxREFBYyxDQUFDLFFBQVEsSUFBSUEsd0RBQWUsQ0FBQzt3QkFDbkZXLE9BQU87NEJBQUVFLE1BQU1XOzRCQUFRQyxVQUFVOzRCQUFNQyxRQUFRO3dCQUFLO3dCQUNwRFosVUFBVTs0QkFBRUQsTUFBTVc7NEJBQVFDLFVBQVU7d0JBQUs7d0JBQ3pDRSxTQUFTOzRCQUFFZCxNQUFNZTs0QkFBU0MsU0FBUzt3QkFBTTt3QkFDekNDLFdBQVc7NEJBQUVqQixNQUFNa0I7NEJBQU1GLFNBQVNFLEtBQUtDLEdBQUc7d0JBQUM7b0JBQzdDO29CQUVBaEIsUUFBUUMsR0FBRyxDQUFDO29CQUNaLE1BQU1nQixPQUFPLE1BQU1kLFVBQVVlLE9BQU8sQ0FBQzt3QkFBRXZCLE9BQU9ELFlBQVlDLEtBQUs7b0JBQUM7b0JBQ2hFSyxRQUFRQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQ2dCO29CQUVyQyxJQUFJLENBQUNBLFFBQVEsQ0FBQ0EsS0FBS25CLFFBQVEsRUFBRTt3QkFDM0JFLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWixNQUFNLElBQUlDLE1BQU07b0JBQ2xCO29CQUVBRixRQUFRQyxHQUFHLENBQUM7b0JBQ1osTUFBTWtCLFVBQVUsTUFBTXBDLHVEQUFjLENBQUNXLFlBQVlJLFFBQVEsRUFBRW1CLEtBQUtuQixRQUFRO29CQUN4RUUsUUFBUUMsR0FBRyxDQUFDLGlCQUFpQmtCO29CQUU3QixJQUFJLENBQUNBLFNBQVM7d0JBQ1osTUFBTSxJQUFJakIsTUFBTTtvQkFDbEI7b0JBRUFGLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPO3dCQUNMb0IsSUFBSUosS0FBS0ssR0FBRyxDQUFDQyxRQUFRO3dCQUNyQjVCLE9BQU9zQixLQUFLdEIsS0FBSzt3QkFDakJnQixTQUFTTSxLQUFLTixPQUFPO29CQUN2QjtnQkFDRixFQUFFLE9BQU9hLE9BQU87b0JBQ2R4QixRQUFRd0IsS0FBSyxDQUFDLHlCQUF5QkE7b0JBQ3ZDLE1BQU1BO2dCQUNSO1lBQ0Y7UUFDRjtLQUNEO0lBQ0RDLFdBQVc7UUFDVCxNQUFNQyxVQUFTLEVBQUVDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1lBQzdCLElBQUlELElBQUlFLFVBQVUsQ0FBQ0QsVUFBVSxPQUFPRDtZQUNwQyxPQUFPQyxVQUFVRDtRQUNuQjtRQUNBLE1BQU1HLEtBQUksRUFBRUMsS0FBSyxFQUFFZCxJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUmMsTUFBTXBCLE9BQU8sR0FBR00sS0FBS04sT0FBTztZQUM5QjtZQUNBLE9BQU9vQjtRQUNUO1FBQ0EsTUFBTUMsU0FBUSxFQUFFQSxPQUFPLEVBQUVELEtBQUssRUFBRTtZQUM5QixJQUFJQSxPQUFPO2dCQUNUQyxRQUFRZixJQUFJLENBQUNOLE9BQU8sR0FBR29CLE1BQU1wQixPQUFPO1lBQ3RDO1lBQ0EsT0FBT3FCO1FBQ1Q7SUFDRjtJQUNBQyxPQUFPO1FBQ0xDLFFBQVE7SUFDVjtJQUNBRixTQUFTO1FBQ1BHLFVBQVU7SUFDWjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRnVqaXRzdVxcRGVza3RvcFxcY3Vwb25zXFxzcmNcXGxpYlxcYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMsIERlZmF1bHRTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcblxuZGVjbGFyZSBtb2R1bGUgJ25leHQtYXV0aCcge1xuICBpbnRlcmZhY2UgU2Vzc2lvbiB7XG4gICAgdXNlcjoge1xuICAgICAgaXNBZG1pbjogYm9vbGVhbjtcbiAgICB9ICYgRGVmYXVsdFNlc3Npb25bJ3VzZXInXTtcbiAgfVxuXG4gIGludGVyZmFjZSBVc2VyIHtcbiAgICBpc0FkbWluOiBib29sZWFuO1xuICB9XG59XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBjb25uZWN0REIgZnJvbSAnQC9saWIvbW9uZ29kYic7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCB8fCAneW91ci1zZWNyZXQta2V5LWhlcmUnLFxuICBkZWJ1ZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcsXG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcIkVtYWlsXCIsIHR5cGU6IFwiZW1haWxcIiB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJTZW5oYVwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdJbmljaWFuZG8gYXV0ZW50aWNhw6fDo28uLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlZGVuY2lhaXMgZmFsdGFuZG86JywgeyBlbWFpbDogISFjcmVkZW50aWFscz8uZW1haWwsIHBhc3N3b3JkOiAhIWNyZWRlbnRpYWxzPy5wYXNzd29yZCB9KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3JlZGVuY2lhaXMgaW52w6FsaWRhcycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25lY3RhbmRvIGFvIE1vbmdvREIuLi4nKTtcbiAgICAgICAgICBhd2FpdCBjb25uZWN0REIoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ29uZWN0YWRvIGFvIE1vbmdvREInKTtcblxuICAgICAgICAgIGNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgICAgICAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9XG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coJ0J1c2NhbmRvIHVzdcOhcmlvLi4uJyk7XG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc3XDoXJpbyBlbmNvbnRyYWRvOicsICEhdXNlcik7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvIG91IHNlbSBzZW5oYScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc3XDoXJpbyBuw6NvIGVuY29udHJhZG8nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygnVmVyaWZpY2FuZG8gc2VuaGEuLi4nKTtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoY3JlZGVudGlhbHMucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5oYSB2w6FsaWRhOicsIGlzVmFsaWQpO1xuXG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbmhhIGluY29ycmV0YScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRlbnRpY2HDp8OjbyBiZW0gc3VjZWRpZGEnKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHVzZXIuX2lkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pblxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBuYSBhdXRlbnRpY2HDp8OjbzonLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyByZWRpcmVjdCh7IHVybCwgYmFzZVVybCB9KSB7XG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoYmFzZVVybCkpIHJldHVybiB1cmw7XG4gICAgICByZXR1cm4gYmFzZVVybCArIHVybDtcbiAgICB9LFxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlzQWRtaW4gPSB1c2VyLmlzQWRtaW47XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pc0FkbWluID0gdG9rZW4uaXNBZG1pbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH1cbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYWRtaW4vYXV0aC9sb2dpbicsXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJiY3J5cHQiLCJtb25nb29zZSIsImNvbm5lY3REQiIsImF1dGhPcHRpb25zIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1NFQ1JFVCIsImRlYnVnIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsIlVzZXJNb2RlbCIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCIsIlNjaGVtYSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsInVzZXIiLCJmaW5kT25lIiwiaXNWYWxpZCIsImNvbXBhcmUiLCJpZCIsIl9pZCIsInRvU3RyaW5nIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJyZWRpcmVjdCIsInVybCIsImJhc2VVcmwiLCJzdGFydHNXaXRoIiwiand0IiwidG9rZW4iLCJzZXNzaW9uIiwicGFnZXMiLCJzaWduSW4iLCJzdHJhdGVneSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env');\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: true\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLEVBQUU7SUFDNUIsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLEVBQUdPLE1BQU1HLElBQUksQ0FBQyxDQUFDYjtZQUN0RSxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZLLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3BDLEVBQUUsT0FBT00sR0FBRztRQUNWVCxPQUFPRyxPQUFPLEdBQUc7UUFDakIsTUFBTU07SUFDUjtJQUVBLE9BQU9ULE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxGdWppdHN1XFxEZXNrdG9wXFxjdXBvbnNcXHNyY1xcbGliXFxtb25nb2RiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmlmICghcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudicpO1xufVxuXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xuXG5pZiAoIWNhY2hlZCkge1xuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdERCKCkge1xuICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XG4gIH1cblxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiB0cnVlLFxuICAgIH07XG5cbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkhLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xuICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xuICAgIHRocm93IGU7XG4gIH1cblxuICByZXR1cm4gY2FjaGVkLmNvbm47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REQjtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0REIiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Api.ts":
/*!***************************!*\
  !*** ./src/models/Api.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Api: () => (/* binding */ Api)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst apiSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    provider: {\n        type: String,\n        required: true,\n        enum: [\n            'awin',\n            'lomadee'\n        ],\n        trim: true,\n        lowercase: true\n    },\n    apiKey: {\n        type: String,\n        trim: true\n    },\n    publisherId: {\n        type: String,\n        trim: true\n    },\n    currency: {\n        type: String,\n        enum: [\n            'BRL',\n            'EUR',\n            'GBP',\n            'USD'\n        ],\n        trim: true,\n        uppercase: true\n    },\n    appToken: {\n        type: String,\n        trim: true\n    },\n    sourceId: {\n        type: String,\n        trim: true\n    },\n    baseUrl: {\n        type: String,\n        trim: true\n    },\n    lastSync: {\n        type: Date\n    },\n    active: {\n        type: Boolean,\n        default: true\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true,\n    versionKey: false\n});\n// Validação condicional baseada no provider\napiSchema.pre('validate', function(next) {\n    if (this.provider === 'awin') {\n        if (!this.apiKey || !this.publisherId || !this.currency) {\n            next(new Error('API Key, Publisher ID e Currency são obrigatórios para APIs da Awin'));\n            return;\n        }\n    } else if (this.provider === 'lomadee') {\n        if (!this.appToken || !this.sourceId || !this.baseUrl) {\n            next(new Error('App Token, Source ID e Base URL são obrigatórios para APIs da Lomadee'));\n            return;\n        }\n    }\n    next();\n});\n// Índices\napiSchema.index({\n    provider: 1\n});\napiSchema.index({\n    name: 1\n}, {\n    unique: true\n});\napiSchema.index({\n    active: 1\n});\napiSchema.index({\n    isActive: 1\n});\napiSchema.index({\n    lastSync: 1\n});\n// Remover modelo existente se houver\nif ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Api) {\n    delete (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Api;\n}\n// Criar novo modelo\nconst Api = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Api', apiSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL0FwaS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFrQmhDLE1BQU1DLFlBQVksSUFBSUQsd0RBQWUsQ0FBQztJQUNwQ0csTUFBTTtRQUNKQyxNQUFNQztRQUNOQyxVQUFVO1FBQ1ZDLE1BQU07SUFDUjtJQUNBQyxVQUFVO1FBQ1JKLE1BQU1DO1FBQ05DLFVBQVU7UUFDVkcsTUFBTTtZQUFDO1lBQVE7U0FBVTtRQUN6QkYsTUFBTTtRQUNORyxXQUFXO0lBQ2I7SUFDQUMsUUFBUTtRQUFFUCxNQUFNQztRQUFRRSxNQUFNO0lBQUs7SUFDbkNLLGFBQWE7UUFBRVIsTUFBTUM7UUFBUUUsTUFBTTtJQUFLO0lBQ3hDTSxVQUFVO1FBQ1JULE1BQU1DO1FBQ05JLE1BQU07WUFBQztZQUFPO1lBQU87WUFBTztTQUFNO1FBQ2xDRixNQUFNO1FBQ05PLFdBQVc7SUFDYjtJQUNBQyxVQUFVO1FBQUVYLE1BQU1DO1FBQVFFLE1BQU07SUFBSztJQUNyQ1MsVUFBVTtRQUFFWixNQUFNQztRQUFRRSxNQUFNO0lBQUs7SUFDckNVLFNBQVM7UUFBRWIsTUFBTUM7UUFBUUUsTUFBTTtJQUFLO0lBQ3BDVyxVQUFVO1FBQUVkLE1BQU1lO0lBQUs7SUFDdkJDLFFBQVE7UUFBRWhCLE1BQU1pQjtRQUFTQyxTQUFTO0lBQUs7SUFDdkNDLFVBQVU7UUFBRW5CLE1BQU1pQjtRQUFTQyxTQUFTO0lBQUs7SUFDekNFLFdBQVc7UUFBRXBCLE1BQU1lO1FBQU1HLFNBQVNILEtBQUtNLEdBQUc7SUFBQztJQUMzQ0MsV0FBVztRQUFFdEIsTUFBTWU7UUFBTUcsU0FBU0gsS0FBS00sR0FBRztJQUFDO0FBQzdDLEdBQUc7SUFDREUsWUFBWTtJQUNaQyxZQUFZO0FBQ2Q7QUFFQSw0Q0FBNEM7QUFDNUMzQixVQUFVNEIsR0FBRyxDQUFDLFlBQVksU0FBU0MsSUFBSTtJQUNyQyxJQUFJLElBQUksQ0FBQ3RCLFFBQVEsS0FBSyxRQUFRO1FBQzVCLElBQUksQ0FBQyxJQUFJLENBQUNHLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQ0MsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUU7WUFDdkRpQixLQUFLLElBQUlDLE1BQU07WUFDZjtRQUNGO0lBQ0YsT0FBTyxJQUFJLElBQUksQ0FBQ3ZCLFFBQVEsS0FBSyxXQUFXO1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUNPLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQ0MsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDQyxPQUFPLEVBQUU7WUFDckRhLEtBQUssSUFBSUMsTUFBTTtZQUNmO1FBQ0Y7SUFDRjtJQUNBRDtBQUNGO0FBRUEsVUFBVTtBQUNWN0IsVUFBVStCLEtBQUssQ0FBQztJQUFFeEIsVUFBVTtBQUFFO0FBQzlCUCxVQUFVK0IsS0FBSyxDQUFDO0lBQUU3QixNQUFNO0FBQUUsR0FBRztJQUFFOEIsUUFBUTtBQUFLO0FBQzVDaEMsVUFBVStCLEtBQUssQ0FBQztJQUFFWixRQUFRO0FBQUU7QUFDNUJuQixVQUFVK0IsS0FBSyxDQUFDO0lBQUVULFVBQVU7QUFBRTtBQUM5QnRCLFVBQVUrQixLQUFLLENBQUM7SUFBRWQsVUFBVTtBQUFFO0FBRTlCLHFDQUFxQztBQUNyQyxJQUFJbEIsd0RBQWUsQ0FBQ21DLEdBQUcsRUFBRTtJQUN2QixPQUFPbkMsd0RBQWUsQ0FBQ21DLEdBQUc7QUFDNUI7QUFFQSxvQkFBb0I7QUFDYixNQUFNQSxNQUFNbkMscURBQWMsQ0FBQyxPQUFPQyxXQUFXIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEZ1aml0c3VcXERlc2t0b3BcXGN1cG9uc1xcc3JjXFxtb2RlbHNcXEFwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwaSB7XG4gIG5hbWU6IHN0cmluZztcbiAgcHJvdmlkZXI6ICdhd2luJyB8ICdsb21hZGVlJztcbiAgYXBpS2V5Pzogc3RyaW5nO1xuICBwdWJsaXNoZXJJZD86IHN0cmluZztcbiAgY3VycmVuY3k/OiBzdHJpbmc7XG4gIGFwcFRva2VuPzogc3RyaW5nO1xuICBzb3VyY2VJZD86IHN0cmluZztcbiAgYmFzZVVybD86IHN0cmluZztcbiAgbGFzdFN5bmM/OiBEYXRlIHwgbnVsbDtcbiAgYWN0aXZlOiBib29sZWFuO1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG59XG5cbmNvbnN0IGFwaVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IFxuICAgIHR5cGU6IFN0cmluZywgXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBwcm92aWRlcjogeyBcbiAgICB0eXBlOiBTdHJpbmcsIFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGVudW06IFsnYXdpbicsICdsb21hZGVlJ10sXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBsb3dlcmNhc2U6IHRydWVcbiAgfSxcbiAgYXBpS2V5OiB7IHR5cGU6IFN0cmluZywgdHJpbTogdHJ1ZSB9LFxuICBwdWJsaXNoZXJJZDogeyB0eXBlOiBTdHJpbmcsIHRyaW06IHRydWUgfSxcbiAgY3VycmVuY3k6IHsgXG4gICAgdHlwZTogU3RyaW5nLCBcbiAgICBlbnVtOiBbJ0JSTCcsICdFVVInLCAnR0JQJywgJ1VTRCddLFxuICAgIHRyaW06IHRydWUsXG4gICAgdXBwZXJjYXNlOiB0cnVlXG4gIH0sXG4gIGFwcFRva2VuOiB7IHR5cGU6IFN0cmluZywgdHJpbTogdHJ1ZSB9LFxuICBzb3VyY2VJZDogeyB0eXBlOiBTdHJpbmcsIHRyaW06IHRydWUgfSxcbiAgYmFzZVVybDogeyB0eXBlOiBTdHJpbmcsIHRyaW06IHRydWUgfSxcbiAgbGFzdFN5bmM6IHsgdHlwZTogRGF0ZSB9LFxuICBhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxuICBpc0FjdGl2ZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxuICB1cGRhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxuICB2ZXJzaW9uS2V5OiBmYWxzZVxufSk7XG5cbi8vIFZhbGlkYcOnw6NvIGNvbmRpY2lvbmFsIGJhc2VhZGEgbm8gcHJvdmlkZXJcbmFwaVNjaGVtYS5wcmUoJ3ZhbGlkYXRlJywgZnVuY3Rpb24obmV4dCkge1xuICBpZiAodGhpcy5wcm92aWRlciA9PT0gJ2F3aW4nKSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSB8fCAhdGhpcy5wdWJsaXNoZXJJZCB8fCAhdGhpcy5jdXJyZW5jeSkge1xuICAgICAgbmV4dChuZXcgRXJyb3IoJ0FQSSBLZXksIFB1Ymxpc2hlciBJRCBlIEN1cnJlbmN5IHPDo28gb2JyaWdhdMOzcmlvcyBwYXJhIEFQSXMgZGEgQXdpbicpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5wcm92aWRlciA9PT0gJ2xvbWFkZWUnKSB7XG4gICAgaWYgKCF0aGlzLmFwcFRva2VuIHx8ICF0aGlzLnNvdXJjZUlkIHx8ICF0aGlzLmJhc2VVcmwpIHtcbiAgICAgIG5leHQobmV3IEVycm9yKCdBcHAgVG9rZW4sIFNvdXJjZSBJRCBlIEJhc2UgVVJMIHPDo28gb2JyaWdhdMOzcmlvcyBwYXJhIEFQSXMgZGEgTG9tYWRlZScpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbmV4dCgpO1xufSk7XG5cbi8vIMONbmRpY2VzXG5hcGlTY2hlbWEuaW5kZXgoeyBwcm92aWRlcjogMSB9KTtcbmFwaVNjaGVtYS5pbmRleCh7IG5hbWU6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XG5hcGlTY2hlbWEuaW5kZXgoeyBhY3RpdmU6IDEgfSk7XG5hcGlTY2hlbWEuaW5kZXgoeyBpc0FjdGl2ZTogMSB9KTtcbmFwaVNjaGVtYS5pbmRleCh7IGxhc3RTeW5jOiAxIH0pO1xuXG4vLyBSZW1vdmVyIG1vZGVsbyBleGlzdGVudGUgc2UgaG91dmVyXG5pZiAobW9uZ29vc2UubW9kZWxzLkFwaSkge1xuICBkZWxldGUgbW9uZ29vc2UubW9kZWxzLkFwaTtcbn1cblxuLy8gQ3JpYXIgbm92byBtb2RlbG9cbmV4cG9ydCBjb25zdCBBcGkgPSBtb25nb29zZS5tb2RlbCgnQXBpJywgYXBpU2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsImFwaVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwicHJvdmlkZXIiLCJlbnVtIiwibG93ZXJjYXNlIiwiYXBpS2V5IiwicHVibGlzaGVySWQiLCJjdXJyZW5jeSIsInVwcGVyY2FzZSIsImFwcFRva2VuIiwic291cmNlSWQiLCJiYXNlVXJsIiwibGFzdFN5bmMiLCJEYXRlIiwiYWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJpc0FjdGl2ZSIsImNyZWF0ZWRBdCIsIm5vdyIsInVwZGF0ZWRBdCIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5IiwicHJlIiwibmV4dCIsIkVycm9yIiwiaW5kZXgiLCJ1bmlxdWUiLCJtb2RlbHMiLCJBcGkiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Api.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fapis%2Froute&page=%2Fapi%2Fadmin%2Fapis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fapis%2Froute.ts&appDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFujitsu%5CDesktop%5Ccupons&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();