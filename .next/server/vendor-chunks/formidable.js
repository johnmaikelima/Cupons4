/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/formidable";
exports.ids = ["vendor-chunks/formidable"];
exports.modules = {

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/file.js":
/*!****************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/file.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("if (false) {}\n\nvar util = __webpack_require__(/*! util */ \"util\"),\n    fs = __webpack_require__(/*! fs */ \"fs\"),\n    EventEmitter = (__webpack_require__(/*! events */ \"events\").EventEmitter),\n    crypto = __webpack_require__(/*! crypto */ \"crypto\");\n\nfunction File(properties) {\n  EventEmitter.call(this);\n\n  this.size = 0;\n  this.path = null;\n  this.name = null;\n  this.type = null;\n  this.hash = null;\n  this.lastModifiedDate = null;\n\n  this._writeStream = null;\n  \n  for (var key in properties) {\n    this[key] = properties[key];\n  }\n\n  if(typeof this.hash === 'string') {\n    this.hash = crypto.createHash(properties.hash);\n  } else {\n    this.hash = null;\n  }\n}\nmodule.exports = File;\nutil.inherits(File, EventEmitter);\n\nFile.prototype.open = function() {\n  this._writeStream = new fs.WriteStream(this.path);\n};\n\nFile.prototype.toJSON = function() {\n  var json = {\n    size: this.size,\n    path: this.path,\n    name: this.name,\n    type: this.type,\n    mtime: this.lastModifiedDate,\n    length: this.length,\n    filename: this.filename,\n    mime: this.mime\n  };\n  if (this.hash && this.hash != \"\") {\n    json.hash = this.hash;\n  }\n  return json;\n};\n\nFile.prototype.write = function(buffer, cb) {\n  var self = this;\n  if (self.hash) {\n    self.hash.update(buffer);\n  }\n\n  if (this._writeStream.closed) {\n    return cb();\n  }\n\n  this._writeStream.write(buffer, function() {\n    self.lastModifiedDate = new Date();\n    self.size += buffer.length;\n    self.emit('progress', self.size);\n    cb();\n  });\n};\n\nFile.prototype.end = function(cb) {\n  var self = this;\n  if (self.hash) {\n    self.hash = self.hash.digest('hex');\n  }\n  this._writeStream.end(function() {\n    self.emit('end');\n    cb();\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL2ZpbGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxLQUFhLEVBQUUsRUFBaUM7O0FBRXBELFdBQVcsbUJBQU8sQ0FBQyxrQkFBTTtBQUN6QixTQUFTLG1CQUFPLENBQUMsY0FBSTtBQUNyQixtQkFBbUIsMERBQThCO0FBQ2pELGFBQWEsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxGdWppdHN1XFxEZXNrdG9wXFxjdXBvbnNcXHBhYXBpNVxcbm9kZV9tb2R1bGVzXFxmb3JtaWRhYmxlXFxsaWJcXGZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaWYgKGdsb2JhbC5HRU5UTFkpIHJlcXVpcmUgPSBHRU5UTFkuaGlqYWNrKHJlcXVpcmUpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgICBmcyA9IHJlcXVpcmUoJ2ZzJyksXG4gICAgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuICAgIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXG5mdW5jdGlvbiBGaWxlKHByb3BlcnRpZXMpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5uYW1lID0gbnVsbDtcbiAgdGhpcy50eXBlID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5sYXN0TW9kaWZpZWREYXRlID0gbnVsbDtcblxuICB0aGlzLl93cml0ZVN0cmVhbSA9IG51bGw7XG4gIFxuICBmb3IgKHZhciBrZXkgaW4gcHJvcGVydGllcykge1xuICAgIHRoaXNba2V5XSA9IHByb3BlcnRpZXNba2V5XTtcbiAgfVxuXG4gIGlmKHR5cGVvZiB0aGlzLmhhc2ggPT09ICdzdHJpbmcnKSB7XG4gICAgdGhpcy5oYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2gocHJvcGVydGllcy5oYXNoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhhc2ggPSBudWxsO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IEZpbGU7XG51dGlsLmluaGVyaXRzKEZpbGUsIEV2ZW50RW1pdHRlcik7XG5cbkZpbGUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fd3JpdGVTdHJlYW0gPSBuZXcgZnMuV3JpdGVTdHJlYW0odGhpcy5wYXRoKTtcbn07XG5cbkZpbGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICB2YXIganNvbiA9IHtcbiAgICBzaXplOiB0aGlzLnNpemUsXG4gICAgcGF0aDogdGhpcy5wYXRoLFxuICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgbXRpbWU6IHRoaXMubGFzdE1vZGlmaWVkRGF0ZSxcbiAgICBsZW5ndGg6IHRoaXMubGVuZ3RoLFxuICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lLFxuICAgIG1pbWU6IHRoaXMubWltZVxuICB9O1xuICBpZiAodGhpcy5oYXNoICYmIHRoaXMuaGFzaCAhPSBcIlwiKSB7XG4gICAganNvbi5oYXNoID0gdGhpcy5oYXNoO1xuICB9XG4gIHJldHVybiBqc29uO1xufTtcblxuRmlsZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihidWZmZXIsIGNiKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHNlbGYuaGFzaCkge1xuICAgIHNlbGYuaGFzaC51cGRhdGUoYnVmZmVyKTtcbiAgfVxuXG4gIGlmICh0aGlzLl93cml0ZVN0cmVhbS5jbG9zZWQpIHtcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIHRoaXMuX3dyaXRlU3RyZWFtLndyaXRlKGJ1ZmZlciwgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5sYXN0TW9kaWZpZWREYXRlID0gbmV3IERhdGUoKTtcbiAgICBzZWxmLnNpemUgKz0gYnVmZmVyLmxlbmd0aDtcbiAgICBzZWxmLmVtaXQoJ3Byb2dyZXNzJywgc2VsZi5zaXplKTtcbiAgICBjYigpO1xuICB9KTtcbn07XG5cbkZpbGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGNiKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHNlbGYuaGFzaCkge1xuICAgIHNlbGYuaGFzaCA9IHNlbGYuaGFzaC5kaWdlc3QoJ2hleCcpO1xuICB9XG4gIHRoaXMuX3dyaXRlU3RyZWFtLmVuZChmdW5jdGlvbigpIHtcbiAgICBzZWxmLmVtaXQoJ2VuZCcpO1xuICAgIGNiKCk7XG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/file.js\n");

/***/ }),

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/incoming_form.js":
/*!*************************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/incoming_form.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("if (false) {}\n\nvar crypto = __webpack_require__(/*! crypto */ \"crypto\");\nvar fs = __webpack_require__(/*! fs */ \"fs\");\nvar util = __webpack_require__(/*! util */ \"util\"),\n    path = __webpack_require__(/*! path */ \"path\"),\n    File = __webpack_require__(/*! ./file */ \"(rsc)/./paapi5/node_modules/formidable/lib/file.js\"),\n    MultipartParser = (__webpack_require__(/*! ./multipart_parser */ \"(rsc)/./paapi5/node_modules/formidable/lib/multipart_parser.js\").MultipartParser),\n    QuerystringParser = (__webpack_require__(/*! ./querystring_parser */ \"(rsc)/./paapi5/node_modules/formidable/lib/querystring_parser.js\").QuerystringParser),\n    OctetParser       = (__webpack_require__(/*! ./octet_parser */ \"(rsc)/./paapi5/node_modules/formidable/lib/octet_parser.js\").OctetParser),\n    JSONParser = (__webpack_require__(/*! ./json_parser */ \"(rsc)/./paapi5/node_modules/formidable/lib/json_parser.js\").JSONParser),\n    StringDecoder = (__webpack_require__(/*! string_decoder */ \"string_decoder\").StringDecoder),\n    EventEmitter = (__webpack_require__(/*! events */ \"events\").EventEmitter),\n    Stream = (__webpack_require__(/*! stream */ \"stream\").Stream),\n    os = __webpack_require__(/*! os */ \"os\");\n\nfunction IncomingForm(opts) {\n  if (!(this instanceof IncomingForm)) return new IncomingForm(opts);\n  EventEmitter.call(this);\n\n  opts=opts||{};\n\n  this.error = null;\n  this.ended = false;\n\n  this.maxFields = opts.maxFields || 1000;\n  this.maxFieldsSize = opts.maxFieldsSize || 20 * 1024 * 1024;\n  this.maxFileSize = opts.maxFileSize || 200 * 1024 * 1024;\n  this.keepExtensions = opts.keepExtensions || false;\n  this.uploadDir = opts.uploadDir || (os.tmpdir && os.tmpdir()) || os.tmpDir();\n  this.encoding = opts.encoding || 'utf-8';\n  this.headers = null;\n  this.type = null;\n  this.hash = opts.hash || false;\n  this.multiples = opts.multiples || false;\n\n  this.bytesReceived = null;\n  this.bytesExpected = null;\n\n  this._parser = null;\n  this._flushing = 0;\n  this._fieldsSize = 0;\n  this._fileSize = 0;\n  this.openedFiles = [];\n\n  return this;\n}\nutil.inherits(IncomingForm, EventEmitter);\nexports.IncomingForm = IncomingForm;\n\nIncomingForm.prototype.parse = function(req, cb) {\n  this.pause = function() {\n    try {\n      req.pause();\n    } catch (err) {\n      // the stream was destroyed\n      if (!this.ended) {\n        // before it was completed, crash & burn\n        this._error(err);\n      }\n      return false;\n    }\n    return true;\n  };\n\n  this.resume = function() {\n    try {\n      req.resume();\n    } catch (err) {\n      // the stream was destroyed\n      if (!this.ended) {\n        // before it was completed, crash & burn\n        this._error(err);\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // Setup callback first, so we don't miss anything from data events emitted\n  // immediately.\n  if (cb) {\n    var fields = {}, files = {};\n    this\n      .on('field', function(name, value) {\n        fields[name] = value;\n      })\n      .on('file', function(name, file) {\n        if (this.multiples) {\n          if (files[name]) {\n            if (!Array.isArray(files[name])) {\n              files[name] = [files[name]];\n            }\n            files[name].push(file);\n          } else {\n            files[name] = file;\n          }\n        } else {\n          files[name] = file;\n        }\n      })\n      .on('error', function(err) {\n        cb(err, fields, files);\n      })\n      .on('end', function() {\n        cb(null, fields, files);\n      });\n  }\n\n  // Parse headers and setup the parser, ready to start listening for data.\n  this.writeHeaders(req.headers);\n\n  // Start listening for data.\n  var self = this;\n  req\n    .on('error', function(err) {\n      self._error(err);\n    })\n    .on('aborted', function() {\n      self.emit('aborted');\n      self._error(new Error('Request aborted'));\n    })\n    .on('data', function(buffer) {\n      self.write(buffer);\n    })\n    .on('end', function() {\n      if (self.error) {\n        return;\n      }\n\n      var err = self._parser.end();\n      if (err) {\n        self._error(err);\n      }\n    });\n\n  return this;\n};\n\nIncomingForm.prototype.writeHeaders = function(headers) {\n  this.headers = headers;\n  this._parseContentLength();\n  this._parseContentType();\n};\n\nIncomingForm.prototype.write = function(buffer) {\n  if (this.error) {\n    return;\n  }\n  if (!this._parser) {\n    this._error(new Error('uninitialized parser'));\n    return;\n  }\n  if (typeof this._parser.write !== 'function') {\n    this._error(new Error('did not expect data'));\n    return;\n  }\n\n  this.bytesReceived += buffer.length;\n  this.emit('progress', this.bytesReceived, this.bytesExpected);\n\n  var bytesParsed = this._parser.write(buffer);\n  if (bytesParsed !== buffer.length) {\n    this._error(new Error('parser error, '+bytesParsed+' of '+buffer.length+' bytes parsed'));\n  }\n\n  return bytesParsed;\n};\n\nIncomingForm.prototype.pause = function() {\n  // this does nothing, unless overwritten in IncomingForm.parse\n  return false;\n};\n\nIncomingForm.prototype.resume = function() {\n  // this does nothing, unless overwritten in IncomingForm.parse\n  return false;\n};\n\nIncomingForm.prototype.onPart = function(part) {\n  // this method can be overwritten by the user\n  this.handlePart(part);\n};\n\nIncomingForm.prototype.handlePart = function(part) {\n  var self = this;\n\n  // This MUST check exactly for undefined. You can not change it to !part.filename.\n  if (part.filename === undefined) {\n    var value = ''\n      , decoder = new StringDecoder(this.encoding);\n\n    part.on('data', function(buffer) {\n      self._fieldsSize += buffer.length;\n      if (self._fieldsSize > self.maxFieldsSize) {\n        self._error(new Error('maxFieldsSize exceeded, received '+self._fieldsSize+' bytes of field data'));\n        return;\n      }\n      value += decoder.write(buffer);\n    });\n\n    part.on('end', function() {\n      self.emit('field', part.name, value);\n    });\n    return;\n  }\n\n  this._flushing++;\n\n  var file = new File({\n    path: this._uploadPath(part.filename),\n    name: part.filename,\n    type: part.mime,\n    hash: self.hash\n  });\n\n  this.emit('fileBegin', part.name, file);\n\n  file.open();\n  this.openedFiles.push(file);\n\n  part.on('data', function(buffer) {\n    self._fileSize += buffer.length;\n    if (self._fileSize > self.maxFileSize) {\n      self._error(new Error('maxFileSize exceeded, received '+self._fileSize+' bytes of file data'));\n      return;\n    }\n    if (buffer.length == 0) {\n      return;\n    }\n    self.pause();\n    file.write(buffer, function() {\n      self.resume();\n    });\n  });\n\n  part.on('end', function() {\n    file.end(function() {\n      self._flushing--;\n      self.emit('file', part.name, file);\n      self._maybeEnd();\n    });\n  });\n};\n\nfunction dummyParser(self) {\n  return {\n    end: function () {\n      self.ended = true;\n      self._maybeEnd();\n      return null;\n    }\n  };\n}\n\nIncomingForm.prototype._parseContentType = function() {\n  if (this.bytesExpected === 0) {\n    this._parser = dummyParser(this);\n    return;\n  }\n\n  if (!this.headers['content-type']) {\n    this._error(new Error('bad content-type header, no content-type'));\n    return;\n  }\n\n  if (this.headers['content-type'].match(/octet-stream/i)) {\n    this._initOctetStream();\n    return;\n  }\n\n  if (this.headers['content-type'].match(/urlencoded/i)) {\n    this._initUrlencoded();\n    return;\n  }\n\n  if (this.headers['content-type'].match(/multipart/i)) {\n    var m = this.headers['content-type'].match(/boundary=(?:\"([^\"]+)\"|([^;]+))/i);\n    if (m) {\n      this._initMultipart(m[1] || m[2]);\n    } else {\n      this._error(new Error('bad content-type header, no multipart boundary'));\n    }\n    return;\n  }\n\n  if (this.headers['content-type'].match(/json/i)) {\n    this._initJSONencoded();\n    return;\n  }\n\n  this._error(new Error('bad content-type header, unknown content-type: '+this.headers['content-type']));\n};\n\nIncomingForm.prototype._error = function(err) {\n  if (this.error || this.ended) {\n    return;\n  }\n\n  this.error = err;\n  this.emit('error', err);\n\n  if (Array.isArray(this.openedFiles)) {\n    this.openedFiles.forEach(function(file) {\n      file._writeStream\n        .on('error', function() {})\n        .destroy();\n      setTimeout(fs.unlink, 0, file.path, function(error) { });\n    });\n  }\n};\n\nIncomingForm.prototype._parseContentLength = function() {\n  this.bytesReceived = 0;\n  if (this.headers['content-length']) {\n    this.bytesExpected = parseInt(this.headers['content-length'], 10);\n  } else if (this.headers['transfer-encoding'] === undefined) {\n    this.bytesExpected = 0;\n  }\n\n  if (this.bytesExpected !== null) {\n    this.emit('progress', this.bytesReceived, this.bytesExpected);\n  }\n};\n\nIncomingForm.prototype._newParser = function() {\n  return new MultipartParser();\n};\n\nIncomingForm.prototype._initMultipart = function(boundary) {\n  this.type = 'multipart';\n\n  var parser = new MultipartParser(),\n      self = this,\n      headerField,\n      headerValue,\n      part;\n\n  parser.initWithBoundary(boundary);\n\n  parser.onPartBegin = function() {\n    part = new Stream();\n    part.readable = true;\n    part.headers = {};\n    part.name = null;\n    part.filename = null;\n    part.mime = null;\n\n    part.transferEncoding = 'binary';\n    part.transferBuffer = '';\n\n    headerField = '';\n    headerValue = '';\n  };\n\n  parser.onHeaderField = function(b, start, end) {\n    headerField += b.toString(self.encoding, start, end);\n  };\n\n  parser.onHeaderValue = function(b, start, end) {\n    headerValue += b.toString(self.encoding, start, end);\n  };\n\n  parser.onHeaderEnd = function() {\n    headerField = headerField.toLowerCase();\n    part.headers[headerField] = headerValue;\n\n    // matches either a quoted-string or a token (RFC 2616 section 19.5.1)\n    var m = headerValue.match(/\\bname=(\"([^\"]*)\"|([^\\(\\)<>@,;:\\\\\"\\/\\[\\]\\?=\\{\\}\\s\\t/]+))/i);\n    if (headerField == 'content-disposition') {\n      if (m) {\n        part.name = m[2] || m[3] || '';\n      }\n\n      part.filename = self._fileName(headerValue);\n    } else if (headerField == 'content-type') {\n      part.mime = headerValue;\n    } else if (headerField == 'content-transfer-encoding') {\n      part.transferEncoding = headerValue.toLowerCase();\n    }\n\n    headerField = '';\n    headerValue = '';\n  };\n\n  parser.onHeadersEnd = function() {\n    switch(part.transferEncoding){\n      case 'binary':\n      case '7bit':\n      case '8bit':\n      parser.onPartData = function(b, start, end) {\n        part.emit('data', b.slice(start, end));\n      };\n\n      parser.onPartEnd = function() {\n        part.emit('end');\n      };\n      break;\n\n      case 'base64':\n      parser.onPartData = function(b, start, end) {\n        part.transferBuffer += b.slice(start, end).toString('ascii');\n\n        /*\n        four bytes (chars) in base64 converts to three bytes in binary\n        encoding. So we should always work with a number of bytes that\n        can be divided by 4, it will result in a number of buytes that\n        can be divided vy 3.\n        */\n        var offset = parseInt(part.transferBuffer.length / 4, 10) * 4;\n        part.emit('data', new Buffer(part.transferBuffer.substring(0, offset), 'base64'));\n        part.transferBuffer = part.transferBuffer.substring(offset);\n      };\n\n      parser.onPartEnd = function() {\n        part.emit('data', new Buffer(part.transferBuffer, 'base64'));\n        part.emit('end');\n      };\n      break;\n\n      default:\n      return self._error(new Error('unknown transfer-encoding'));\n    }\n\n    self.onPart(part);\n  };\n\n\n  parser.onEnd = function() {\n    self.ended = true;\n    self._maybeEnd();\n  };\n\n  this._parser = parser;\n};\n\nIncomingForm.prototype._fileName = function(headerValue) {\n  // matches either a quoted-string or a token (RFC 2616 section 19.5.1)\n  var m = headerValue.match(/\\bfilename=(\"(.*?)\"|([^\\(\\)<>@,;:\\\\\"\\/\\[\\]\\?=\\{\\}\\s\\t/]+))($|;\\s)/i);\n  if (!m) return;\n\n  var match = m[2] || m[3] || '';\n  var filename = match.substr(match.lastIndexOf('\\\\') + 1);\n  filename = filename.replace(/%22/g, '\"');\n  filename = filename.replace(/&#([\\d]{4});/g, function(m, code) {\n    return String.fromCharCode(code);\n  });\n  return filename;\n};\n\nIncomingForm.prototype._initUrlencoded = function() {\n  this.type = 'urlencoded';\n\n  var parser = new QuerystringParser(this.maxFields)\n    , self = this;\n\n  parser.onField = function(key, val) {\n    self.emit('field', key, val);\n  };\n\n  parser.onEnd = function() {\n    self.ended = true;\n    self._maybeEnd();\n  };\n\n  this._parser = parser;\n};\n\nIncomingForm.prototype._initOctetStream = function() {\n  this.type = 'octet-stream';\n  var filename = this.headers['x-file-name'];\n  var mime = this.headers['content-type'];\n\n  var file = new File({\n    path: this._uploadPath(filename),\n    name: filename,\n    type: mime\n  });\n\n  this.emit('fileBegin', filename, file);\n  file.open();\n  this.openedFiles.push(file);\n  this._flushing++;\n\n  var self = this;\n\n  self._parser = new OctetParser();\n\n  //Keep track of writes that haven't finished so we don't emit the file before it's done being written\n  var outstandingWrites = 0;\n\n  self._parser.on('data', function(buffer){\n    self.pause();\n    outstandingWrites++;\n\n    file.write(buffer, function() {\n      outstandingWrites--;\n      self.resume();\n\n      if(self.ended){\n        self._parser.emit('doneWritingFile');\n      }\n    });\n  });\n\n  self._parser.on('end', function(){\n    self._flushing--;\n    self.ended = true;\n\n    var done = function(){\n      file.end(function() {\n        self.emit('file', 'file', file);\n        self._maybeEnd();\n      });\n    };\n\n    if(outstandingWrites === 0){\n      done();\n    } else {\n      self._parser.once('doneWritingFile', done);\n    }\n  });\n};\n\nIncomingForm.prototype._initJSONencoded = function() {\n  this.type = 'json';\n\n  var parser = new JSONParser(this)\n    , self = this;\n\n  parser.onField = function(key, val) {\n    self.emit('field', key, val);\n  };\n\n  parser.onEnd = function() {\n    self.ended = true;\n    self._maybeEnd();\n  };\n\n  this._parser = parser;\n};\n\nIncomingForm.prototype._uploadPath = function(filename) {\n  var buf = crypto.randomBytes(16);\n  var name = 'upload_' + buf.toString('hex');\n\n  if (this.keepExtensions) {\n    var ext = path.extname(filename);\n    ext     = ext.replace(/(\\.[a-z0-9]+).*/i, '$1');\n\n    name += ext;\n  }\n\n  return path.join(this.uploadDir, name);\n};\n\nIncomingForm.prototype._maybeEnd = function() {\n  if (!this.ended || this._flushing || this.error) {\n    return;\n  }\n\n  this.emit('end');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL2luY29taW5nX2Zvcm0uanMiLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxLQUFhLEVBQUUsRUFBaUM7O0FBRXBELGFBQWEsbUJBQU8sQ0FBQyxzQkFBUTtBQUM3QixTQUFTLG1CQUFPLENBQUMsY0FBSTtBQUNyQixXQUFXLG1CQUFPLENBQUMsa0JBQU07QUFDekIsV0FBVyxtQkFBTyxDQUFDLGtCQUFNO0FBQ3pCLFdBQVcsbUJBQU8sQ0FBQyxrRUFBUTtBQUMzQixzQkFBc0IsaUlBQTZDO0FBQ25FLHdCQUF3Qix1SUFBaUQ7QUFDekUsd0JBQXdCLHFIQUFxQztBQUM3RCxpQkFBaUIsa0hBQW1DO0FBQ3BELG9CQUFvQiwyRUFBdUM7QUFDM0QsbUJBQW1CLDBEQUE4QjtBQUNqRCxhQUFhLG9EQUF3QjtBQUNyQyxTQUFTLG1CQUFPLENBQUMsY0FBSTs7QUFFckI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLDZEQUE2RDtBQUM3RCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2REFBNkQsZUFBZSxFQUFFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZEQUE2RCxlQUFlLEVBQUUsYUFBYTtBQUMzRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsRUFBRSxFQUFFO0FBQzNDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxGdWppdHN1XFxEZXNrdG9wXFxjdXBvbnNcXHBhYXBpNVxcbm9kZV9tb2R1bGVzXFxmb3JtaWRhYmxlXFxsaWJcXGluY29taW5nX2Zvcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaWYgKGdsb2JhbC5HRU5UTFkpIHJlcXVpcmUgPSBHRU5UTFkuaGlqYWNrKHJlcXVpcmUpO1xuXG52YXIgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG4gICAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSxcbiAgICBGaWxlID0gcmVxdWlyZSgnLi9maWxlJyksXG4gICAgTXVsdGlwYXJ0UGFyc2VyID0gcmVxdWlyZSgnLi9tdWx0aXBhcnRfcGFyc2VyJykuTXVsdGlwYXJ0UGFyc2VyLFxuICAgIFF1ZXJ5c3RyaW5nUGFyc2VyID0gcmVxdWlyZSgnLi9xdWVyeXN0cmluZ19wYXJzZXInKS5RdWVyeXN0cmluZ1BhcnNlcixcbiAgICBPY3RldFBhcnNlciAgICAgICA9IHJlcXVpcmUoJy4vb2N0ZXRfcGFyc2VyJykuT2N0ZXRQYXJzZXIsXG4gICAgSlNPTlBhcnNlciA9IHJlcXVpcmUoJy4vanNvbl9wYXJzZXInKS5KU09OUGFyc2VyLFxuICAgIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXIsXG4gICAgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuICAgIFN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpLlN0cmVhbSxcbiAgICBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbmZ1bmN0aW9uIEluY29taW5nRm9ybShvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBJbmNvbWluZ0Zvcm0pKSByZXR1cm4gbmV3IEluY29taW5nRm9ybShvcHRzKTtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgb3B0cz1vcHRzfHx7fTtcblxuICB0aGlzLmVycm9yID0gbnVsbDtcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuXG4gIHRoaXMubWF4RmllbGRzID0gb3B0cy5tYXhGaWVsZHMgfHwgMTAwMDtcbiAgdGhpcy5tYXhGaWVsZHNTaXplID0gb3B0cy5tYXhGaWVsZHNTaXplIHx8IDIwICogMTAyNCAqIDEwMjQ7XG4gIHRoaXMubWF4RmlsZVNpemUgPSBvcHRzLm1heEZpbGVTaXplIHx8IDIwMCAqIDEwMjQgKiAxMDI0O1xuICB0aGlzLmtlZXBFeHRlbnNpb25zID0gb3B0cy5rZWVwRXh0ZW5zaW9ucyB8fCBmYWxzZTtcbiAgdGhpcy51cGxvYWREaXIgPSBvcHRzLnVwbG9hZERpciB8fCAob3MudG1wZGlyICYmIG9zLnRtcGRpcigpKSB8fCBvcy50bXBEaXIoKTtcbiAgdGhpcy5lbmNvZGluZyA9IG9wdHMuZW5jb2RpbmcgfHwgJ3V0Zi04JztcbiAgdGhpcy5oZWFkZXJzID0gbnVsbDtcbiAgdGhpcy50eXBlID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gb3B0cy5oYXNoIHx8IGZhbHNlO1xuICB0aGlzLm11bHRpcGxlcyA9IG9wdHMubXVsdGlwbGVzIHx8IGZhbHNlO1xuXG4gIHRoaXMuYnl0ZXNSZWNlaXZlZCA9IG51bGw7XG4gIHRoaXMuYnl0ZXNFeHBlY3RlZCA9IG51bGw7XG5cbiAgdGhpcy5fcGFyc2VyID0gbnVsbDtcbiAgdGhpcy5fZmx1c2hpbmcgPSAwO1xuICB0aGlzLl9maWVsZHNTaXplID0gMDtcbiAgdGhpcy5fZmlsZVNpemUgPSAwO1xuICB0aGlzLm9wZW5lZEZpbGVzID0gW107XG5cbiAgcmV0dXJuIHRoaXM7XG59XG51dGlsLmluaGVyaXRzKEluY29taW5nRm9ybSwgRXZlbnRFbWl0dGVyKTtcbmV4cG9ydHMuSW5jb21pbmdGb3JtID0gSW5jb21pbmdGb3JtO1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24ocmVxLCBjYikge1xuICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcS5wYXVzZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gdGhlIHN0cmVhbSB3YXMgZGVzdHJveWVkXG4gICAgICBpZiAoIXRoaXMuZW5kZWQpIHtcbiAgICAgICAgLy8gYmVmb3JlIGl0IHdhcyBjb21wbGV0ZWQsIGNyYXNoICYgYnVyblxuICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICB0aGlzLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICByZXEucmVzdW1lKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyB0aGUgc3RyZWFtIHdhcyBkZXN0cm95ZWRcbiAgICAgIGlmICghdGhpcy5lbmRlZCkge1xuICAgICAgICAvLyBiZWZvcmUgaXQgd2FzIGNvbXBsZXRlZCwgY3Jhc2ggJiBidXJuXG4gICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gU2V0dXAgY2FsbGJhY2sgZmlyc3QsIHNvIHdlIGRvbid0IG1pc3MgYW55dGhpbmcgZnJvbSBkYXRhIGV2ZW50cyBlbWl0dGVkXG4gIC8vIGltbWVkaWF0ZWx5LlxuICBpZiAoY2IpIHtcbiAgICB2YXIgZmllbGRzID0ge30sIGZpbGVzID0ge307XG4gICAgdGhpc1xuICAgICAgLm9uKCdmaWVsZCcsIGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGZpZWxkc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfSlcbiAgICAgIC5vbignZmlsZScsIGZ1bmN0aW9uKG5hbWUsIGZpbGUpIHtcbiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVzKSB7XG4gICAgICAgICAgaWYgKGZpbGVzW25hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsZXNbbmFtZV0pKSB7XG4gICAgICAgICAgICAgIGZpbGVzW25hbWVdID0gW2ZpbGVzW25hbWVdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVzW25hbWVdLnB1c2goZmlsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGVzW25hbWVdID0gZmlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlsZXNbbmFtZV0gPSBmaWxlO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjYihlcnIsIGZpZWxkcywgZmlsZXMpO1xuICAgICAgfSlcbiAgICAgIC5vbignZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNiKG51bGwsIGZpZWxkcywgZmlsZXMpO1xuICAgICAgfSk7XG4gIH1cblxuICAvLyBQYXJzZSBoZWFkZXJzIGFuZCBzZXR1cCB0aGUgcGFyc2VyLCByZWFkeSB0byBzdGFydCBsaXN0ZW5pbmcgZm9yIGRhdGEuXG4gIHRoaXMud3JpdGVIZWFkZXJzKHJlcS5oZWFkZXJzKTtcblxuICAvLyBTdGFydCBsaXN0ZW5pbmcgZm9yIGRhdGEuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmVxXG4gICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycikge1xuICAgICAgc2VsZi5fZXJyb3IoZXJyKTtcbiAgICB9KVxuICAgIC5vbignYWJvcnRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5lbWl0KCdhYm9ydGVkJyk7XG4gICAgICBzZWxmLl9lcnJvcihuZXcgRXJyb3IoJ1JlcXVlc3QgYWJvcnRlZCcpKTtcbiAgICB9KVxuICAgIC5vbignZGF0YScsIGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgc2VsZi53cml0ZShidWZmZXIpO1xuICAgIH0pXG4gICAgLm9uKCdlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLmVycm9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVyciA9IHNlbGYuX3BhcnNlci5lbmQoKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgc2VsZi5fZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkluY29taW5nRm9ybS5wcm90b3R5cGUud3JpdGVIZWFkZXJzID0gZnVuY3Rpb24oaGVhZGVycykge1xuICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICB0aGlzLl9wYXJzZUNvbnRlbnRMZW5ndGgoKTtcbiAgdGhpcy5fcGFyc2VDb250ZW50VHlwZSgpO1xufTtcblxuSW5jb21pbmdGb3JtLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICBpZiAodGhpcy5lcnJvcikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXRoaXMuX3BhcnNlcikge1xuICAgIHRoaXMuX2Vycm9yKG5ldyBFcnJvcigndW5pbml0aWFsaXplZCBwYXJzZXInKSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgdGhpcy5fcGFyc2VyLndyaXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5fZXJyb3IobmV3IEVycm9yKCdkaWQgbm90IGV4cGVjdCBkYXRhJykpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuYnl0ZXNSZWNlaXZlZCArPSBidWZmZXIubGVuZ3RoO1xuICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgdGhpcy5ieXRlc1JlY2VpdmVkLCB0aGlzLmJ5dGVzRXhwZWN0ZWQpO1xuXG4gIHZhciBieXRlc1BhcnNlZCA9IHRoaXMuX3BhcnNlci53cml0ZShidWZmZXIpO1xuICBpZiAoYnl0ZXNQYXJzZWQgIT09IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICB0aGlzLl9lcnJvcihuZXcgRXJyb3IoJ3BhcnNlciBlcnJvciwgJytieXRlc1BhcnNlZCsnIG9mICcrYnVmZmVyLmxlbmd0aCsnIGJ5dGVzIHBhcnNlZCcpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlc1BhcnNlZDtcbn07XG5cbkluY29taW5nRm9ybS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgLy8gdGhpcyBkb2VzIG5vdGhpbmcsIHVubGVzcyBvdmVyd3JpdHRlbiBpbiBJbmNvbWluZ0Zvcm0ucGFyc2VcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuSW5jb21pbmdGb3JtLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgLy8gdGhpcyBkb2VzIG5vdGhpbmcsIHVubGVzcyBvdmVyd3JpdHRlbiBpbiBJbmNvbWluZ0Zvcm0ucGFyc2VcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuSW5jb21pbmdGb3JtLnByb3RvdHlwZS5vblBhcnQgPSBmdW5jdGlvbihwYXJ0KSB7XG4gIC8vIHRoaXMgbWV0aG9kIGNhbiBiZSBvdmVyd3JpdHRlbiBieSB0aGUgdXNlclxuICB0aGlzLmhhbmRsZVBhcnQocGFydCk7XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLmhhbmRsZVBhcnQgPSBmdW5jdGlvbihwYXJ0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBUaGlzIE1VU1QgY2hlY2sgZXhhY3RseSBmb3IgdW5kZWZpbmVkLiBZb3UgY2FuIG5vdCBjaGFuZ2UgaXQgdG8gIXBhcnQuZmlsZW5hbWUuXG4gIGlmIChwYXJ0LmZpbGVuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgdmFsdWUgPSAnJ1xuICAgICAgLCBkZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIodGhpcy5lbmNvZGluZyk7XG5cbiAgICBwYXJ0Lm9uKCdkYXRhJywgZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgICBzZWxmLl9maWVsZHNTaXplICs9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICBpZiAoc2VsZi5fZmllbGRzU2l6ZSA+IHNlbGYubWF4RmllbGRzU2l6ZSkge1xuICAgICAgICBzZWxmLl9lcnJvcihuZXcgRXJyb3IoJ21heEZpZWxkc1NpemUgZXhjZWVkZWQsIHJlY2VpdmVkICcrc2VsZi5fZmllbGRzU2l6ZSsnIGJ5dGVzIG9mIGZpZWxkIGRhdGEnKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhbHVlICs9IGRlY29kZXIud3JpdGUoYnVmZmVyKTtcbiAgICB9KTtcblxuICAgIHBhcnQub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5lbWl0KCdmaWVsZCcsIHBhcnQubmFtZSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2ZsdXNoaW5nKys7XG5cbiAgdmFyIGZpbGUgPSBuZXcgRmlsZSh7XG4gICAgcGF0aDogdGhpcy5fdXBsb2FkUGF0aChwYXJ0LmZpbGVuYW1lKSxcbiAgICBuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgIHR5cGU6IHBhcnQubWltZSxcbiAgICBoYXNoOiBzZWxmLmhhc2hcbiAgfSk7XG5cbiAgdGhpcy5lbWl0KCdmaWxlQmVnaW4nLCBwYXJ0Lm5hbWUsIGZpbGUpO1xuXG4gIGZpbGUub3BlbigpO1xuICB0aGlzLm9wZW5lZEZpbGVzLnB1c2goZmlsZSk7XG5cbiAgcGFydC5vbignZGF0YScsIGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgIHNlbGYuX2ZpbGVTaXplICs9IGJ1ZmZlci5sZW5ndGg7XG4gICAgaWYgKHNlbGYuX2ZpbGVTaXplID4gc2VsZi5tYXhGaWxlU2l6ZSkge1xuICAgICAgc2VsZi5fZXJyb3IobmV3IEVycm9yKCdtYXhGaWxlU2l6ZSBleGNlZWRlZCwgcmVjZWl2ZWQgJytzZWxmLl9maWxlU2l6ZSsnIGJ5dGVzIG9mIGZpbGUgZGF0YScpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJ1ZmZlci5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmLnBhdXNlKCk7XG4gICAgZmlsZS53cml0ZShidWZmZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZXN1bWUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcGFydC5vbignZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgZmlsZS5lbmQoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9mbHVzaGluZy0tO1xuICAgICAgc2VsZi5lbWl0KCdmaWxlJywgcGFydC5uYW1lLCBmaWxlKTtcbiAgICAgIHNlbGYuX21heWJlRW5kKCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gZHVtbXlQYXJzZXIoc2VsZikge1xuICByZXR1cm4ge1xuICAgIGVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5lbmRlZCA9IHRydWU7XG4gICAgICBzZWxmLl9tYXliZUVuZCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xufVxuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9wYXJzZUNvbnRlbnRUeXBlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmJ5dGVzRXhwZWN0ZWQgPT09IDApIHtcbiAgICB0aGlzLl9wYXJzZXIgPSBkdW1teVBhcnNlcih0aGlzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXRoaXMuaGVhZGVyc1snY29udGVudC10eXBlJ10pIHtcbiAgICB0aGlzLl9lcnJvcihuZXcgRXJyb3IoJ2JhZCBjb250ZW50LXR5cGUgaGVhZGVyLCBubyBjb250ZW50LXR5cGUnKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRoaXMuaGVhZGVyc1snY29udGVudC10eXBlJ10ubWF0Y2goL29jdGV0LXN0cmVhbS9pKSkge1xuICAgIHRoaXMuX2luaXRPY3RldFN0cmVhbSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLm1hdGNoKC91cmxlbmNvZGVkL2kpKSB7XG4gICAgdGhpcy5faW5pdFVybGVuY29kZWQoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5oZWFkZXJzWydjb250ZW50LXR5cGUnXS5tYXRjaCgvbXVsdGlwYXJ0L2kpKSB7XG4gICAgdmFyIG0gPSB0aGlzLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLm1hdGNoKC9ib3VuZGFyeT0oPzpcIihbXlwiXSspXCJ8KFteO10rKSkvaSk7XG4gICAgaWYgKG0pIHtcbiAgICAgIHRoaXMuX2luaXRNdWx0aXBhcnQobVsxXSB8fCBtWzJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXJyb3IobmV3IEVycm9yKCdiYWQgY29udGVudC10eXBlIGhlYWRlciwgbm8gbXVsdGlwYXJ0IGJvdW5kYXJ5JykpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5oZWFkZXJzWydjb250ZW50LXR5cGUnXS5tYXRjaCgvanNvbi9pKSkge1xuICAgIHRoaXMuX2luaXRKU09OZW5jb2RlZCgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2Vycm9yKG5ldyBFcnJvcignYmFkIGNvbnRlbnQtdHlwZSBoZWFkZXIsIHVua25vd24gY29udGVudC10eXBlOiAnK3RoaXMuaGVhZGVyc1snY29udGVudC10eXBlJ10pKTtcbn07XG5cbkluY29taW5nRm9ybS5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gIGlmICh0aGlzLmVycm9yIHx8IHRoaXMuZW5kZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmVycm9yID0gZXJyO1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcblxuICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLm9wZW5lZEZpbGVzKSkge1xuICAgIHRoaXMub3BlbmVkRmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICBmaWxlLl93cml0ZVN0cmVhbVxuICAgICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24oKSB7fSlcbiAgICAgICAgLmRlc3Ryb3koKTtcbiAgICAgIHNldFRpbWVvdXQoZnMudW5saW5rLCAwLCBmaWxlLnBhdGgsIGZ1bmN0aW9uKGVycm9yKSB7IH0pO1xuICAgIH0pO1xuICB9XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9wYXJzZUNvbnRlbnRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ieXRlc1JlY2VpdmVkID0gMDtcbiAgaWYgKHRoaXMuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSkge1xuICAgIHRoaXMuYnl0ZXNFeHBlY3RlZCA9IHBhcnNlSW50KHRoaXMuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSwgMTApO1xuICB9IGVsc2UgaWYgKHRoaXMuaGVhZGVyc1sndHJhbnNmZXItZW5jb2RpbmcnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5ieXRlc0V4cGVjdGVkID0gMDtcbiAgfVxuXG4gIGlmICh0aGlzLmJ5dGVzRXhwZWN0ZWQgIT09IG51bGwpIHtcbiAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgdGhpcy5ieXRlc1JlY2VpdmVkLCB0aGlzLmJ5dGVzRXhwZWN0ZWQpO1xuICB9XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9uZXdQYXJzZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBNdWx0aXBhcnRQYXJzZXIoKTtcbn07XG5cbkluY29taW5nRm9ybS5wcm90b3R5cGUuX2luaXRNdWx0aXBhcnQgPSBmdW5jdGlvbihib3VuZGFyeSkge1xuICB0aGlzLnR5cGUgPSAnbXVsdGlwYXJ0JztcblxuICB2YXIgcGFyc2VyID0gbmV3IE11bHRpcGFydFBhcnNlcigpLFxuICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICBoZWFkZXJGaWVsZCxcbiAgICAgIGhlYWRlclZhbHVlLFxuICAgICAgcGFydDtcblxuICBwYXJzZXIuaW5pdFdpdGhCb3VuZGFyeShib3VuZGFyeSk7XG5cbiAgcGFyc2VyLm9uUGFydEJlZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgcGFydCA9IG5ldyBTdHJlYW0oKTtcbiAgICBwYXJ0LnJlYWRhYmxlID0gdHJ1ZTtcbiAgICBwYXJ0LmhlYWRlcnMgPSB7fTtcbiAgICBwYXJ0Lm5hbWUgPSBudWxsO1xuICAgIHBhcnQuZmlsZW5hbWUgPSBudWxsO1xuICAgIHBhcnQubWltZSA9IG51bGw7XG5cbiAgICBwYXJ0LnRyYW5zZmVyRW5jb2RpbmcgPSAnYmluYXJ5JztcbiAgICBwYXJ0LnRyYW5zZmVyQnVmZmVyID0gJyc7XG5cbiAgICBoZWFkZXJGaWVsZCA9ICcnO1xuICAgIGhlYWRlclZhbHVlID0gJyc7XG4gIH07XG5cbiAgcGFyc2VyLm9uSGVhZGVyRmllbGQgPSBmdW5jdGlvbihiLCBzdGFydCwgZW5kKSB7XG4gICAgaGVhZGVyRmllbGQgKz0gYi50b1N0cmluZyhzZWxmLmVuY29kaW5nLCBzdGFydCwgZW5kKTtcbiAgfTtcblxuICBwYXJzZXIub25IZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uKGIsIHN0YXJ0LCBlbmQpIHtcbiAgICBoZWFkZXJWYWx1ZSArPSBiLnRvU3RyaW5nKHNlbGYuZW5jb2RpbmcsIHN0YXJ0LCBlbmQpO1xuICB9O1xuXG4gIHBhcnNlci5vbkhlYWRlckVuZCA9IGZ1bmN0aW9uKCkge1xuICAgIGhlYWRlckZpZWxkID0gaGVhZGVyRmllbGQudG9Mb3dlckNhc2UoKTtcbiAgICBwYXJ0LmhlYWRlcnNbaGVhZGVyRmllbGRdID0gaGVhZGVyVmFsdWU7XG5cbiAgICAvLyBtYXRjaGVzIGVpdGhlciBhIHF1b3RlZC1zdHJpbmcgb3IgYSB0b2tlbiAoUkZDIDI2MTYgc2VjdGlvbiAxOS41LjEpXG4gICAgdmFyIG0gPSBoZWFkZXJWYWx1ZS5tYXRjaCgvXFxibmFtZT0oXCIoW15cIl0qKVwifChbXlxcKFxcKTw+QCw7OlxcXFxcIlxcL1xcW1xcXVxcPz1cXHtcXH1cXHNcXHQvXSspKS9pKTtcbiAgICBpZiAoaGVhZGVyRmllbGQgPT0gJ2NvbnRlbnQtZGlzcG9zaXRpb24nKSB7XG4gICAgICBpZiAobSkge1xuICAgICAgICBwYXJ0Lm5hbWUgPSBtWzJdIHx8IG1bM10gfHwgJyc7XG4gICAgICB9XG5cbiAgICAgIHBhcnQuZmlsZW5hbWUgPSBzZWxmLl9maWxlTmFtZShoZWFkZXJWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChoZWFkZXJGaWVsZCA9PSAnY29udGVudC10eXBlJykge1xuICAgICAgcGFydC5taW1lID0gaGVhZGVyVmFsdWU7XG4gICAgfSBlbHNlIGlmIChoZWFkZXJGaWVsZCA9PSAnY29udGVudC10cmFuc2Zlci1lbmNvZGluZycpIHtcbiAgICAgIHBhcnQudHJhbnNmZXJFbmNvZGluZyA9IGhlYWRlclZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaGVhZGVyRmllbGQgPSAnJztcbiAgICBoZWFkZXJWYWx1ZSA9ICcnO1xuICB9O1xuXG4gIHBhcnNlci5vbkhlYWRlcnNFbmQgPSBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2gocGFydC50cmFuc2ZlckVuY29kaW5nKXtcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICBjYXNlICc3Yml0JzpcbiAgICAgIGNhc2UgJzhiaXQnOlxuICAgICAgcGFyc2VyLm9uUGFydERhdGEgPSBmdW5jdGlvbihiLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHBhcnQuZW1pdCgnZGF0YScsIGIuc2xpY2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgfTtcblxuICAgICAgcGFyc2VyLm9uUGFydEVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwYXJ0LmVtaXQoJ2VuZCcpO1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcGFyc2VyLm9uUGFydERhdGEgPSBmdW5jdGlvbihiLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHBhcnQudHJhbnNmZXJCdWZmZXIgKz0gYi5zbGljZShzdGFydCwgZW5kKS50b1N0cmluZygnYXNjaWknKTtcblxuICAgICAgICAvKlxuICAgICAgICBmb3VyIGJ5dGVzIChjaGFycykgaW4gYmFzZTY0IGNvbnZlcnRzIHRvIHRocmVlIGJ5dGVzIGluIGJpbmFyeVxuICAgICAgICBlbmNvZGluZy4gU28gd2Ugc2hvdWxkIGFsd2F5cyB3b3JrIHdpdGggYSBudW1iZXIgb2YgYnl0ZXMgdGhhdFxuICAgICAgICBjYW4gYmUgZGl2aWRlZCBieSA0LCBpdCB3aWxsIHJlc3VsdCBpbiBhIG51bWJlciBvZiBidXl0ZXMgdGhhdFxuICAgICAgICBjYW4gYmUgZGl2aWRlZCB2eSAzLlxuICAgICAgICAqL1xuICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQocGFydC50cmFuc2ZlckJ1ZmZlci5sZW5ndGggLyA0LCAxMCkgKiA0O1xuICAgICAgICBwYXJ0LmVtaXQoJ2RhdGEnLCBuZXcgQnVmZmVyKHBhcnQudHJhbnNmZXJCdWZmZXIuc3Vic3RyaW5nKDAsIG9mZnNldCksICdiYXNlNjQnKSk7XG4gICAgICAgIHBhcnQudHJhbnNmZXJCdWZmZXIgPSBwYXJ0LnRyYW5zZmVyQnVmZmVyLnN1YnN0cmluZyhvZmZzZXQpO1xuICAgICAgfTtcblxuICAgICAgcGFyc2VyLm9uUGFydEVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwYXJ0LmVtaXQoJ2RhdGEnLCBuZXcgQnVmZmVyKHBhcnQudHJhbnNmZXJCdWZmZXIsICdiYXNlNjQnKSk7XG4gICAgICAgIHBhcnQuZW1pdCgnZW5kJyk7XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc2VsZi5fZXJyb3IobmV3IEVycm9yKCd1bmtub3duIHRyYW5zZmVyLWVuY29kaW5nJykpO1xuICAgIH1cblxuICAgIHNlbGYub25QYXJ0KHBhcnQpO1xuICB9O1xuXG5cbiAgcGFyc2VyLm9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbmRlZCA9IHRydWU7XG4gICAgc2VsZi5fbWF5YmVFbmQoKTtcbiAgfTtcblxuICB0aGlzLl9wYXJzZXIgPSBwYXJzZXI7XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9maWxlTmFtZSA9IGZ1bmN0aW9uKGhlYWRlclZhbHVlKSB7XG4gIC8vIG1hdGNoZXMgZWl0aGVyIGEgcXVvdGVkLXN0cmluZyBvciBhIHRva2VuIChSRkMgMjYxNiBzZWN0aW9uIDE5LjUuMSlcbiAgdmFyIG0gPSBoZWFkZXJWYWx1ZS5tYXRjaCgvXFxiZmlsZW5hbWU9KFwiKC4qPylcInwoW15cXChcXCk8PkAsOzpcXFxcXCJcXC9cXFtcXF1cXD89XFx7XFx9XFxzXFx0L10rKSkoJHw7XFxzKS9pKTtcbiAgaWYgKCFtKSByZXR1cm47XG5cbiAgdmFyIG1hdGNoID0gbVsyXSB8fCBtWzNdIHx8ICcnO1xuICB2YXIgZmlsZW5hbWUgPSBtYXRjaC5zdWJzdHIobWF0Y2gubGFzdEluZGV4T2YoJ1xcXFwnKSArIDEpO1xuICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUyMi9nLCAnXCInKTtcbiAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8mIyhbXFxkXXs0fSk7L2csIGZ1bmN0aW9uKG0sIGNvZGUpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgfSk7XG4gIHJldHVybiBmaWxlbmFtZTtcbn07XG5cbkluY29taW5nRm9ybS5wcm90b3R5cGUuX2luaXRVcmxlbmNvZGVkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudHlwZSA9ICd1cmxlbmNvZGVkJztcblxuICB2YXIgcGFyc2VyID0gbmV3IFF1ZXJ5c3RyaW5nUGFyc2VyKHRoaXMubWF4RmllbGRzKVxuICAgICwgc2VsZiA9IHRoaXM7XG5cbiAgcGFyc2VyLm9uRmllbGQgPSBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgIHNlbGYuZW1pdCgnZmllbGQnLCBrZXksIHZhbCk7XG4gIH07XG5cbiAgcGFyc2VyLm9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbmRlZCA9IHRydWU7XG4gICAgc2VsZi5fbWF5YmVFbmQoKTtcbiAgfTtcblxuICB0aGlzLl9wYXJzZXIgPSBwYXJzZXI7XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9pbml0T2N0ZXRTdHJlYW0gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50eXBlID0gJ29jdGV0LXN0cmVhbSc7XG4gIHZhciBmaWxlbmFtZSA9IHRoaXMuaGVhZGVyc1sneC1maWxlLW5hbWUnXTtcbiAgdmFyIG1pbWUgPSB0aGlzLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddO1xuXG4gIHZhciBmaWxlID0gbmV3IEZpbGUoe1xuICAgIHBhdGg6IHRoaXMuX3VwbG9hZFBhdGgoZmlsZW5hbWUpLFxuICAgIG5hbWU6IGZpbGVuYW1lLFxuICAgIHR5cGU6IG1pbWVcbiAgfSk7XG5cbiAgdGhpcy5lbWl0KCdmaWxlQmVnaW4nLCBmaWxlbmFtZSwgZmlsZSk7XG4gIGZpbGUub3BlbigpO1xuICB0aGlzLm9wZW5lZEZpbGVzLnB1c2goZmlsZSk7XG4gIHRoaXMuX2ZsdXNoaW5nKys7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHNlbGYuX3BhcnNlciA9IG5ldyBPY3RldFBhcnNlcigpO1xuXG4gIC8vS2VlcCB0cmFjayBvZiB3cml0ZXMgdGhhdCBoYXZlbid0IGZpbmlzaGVkIHNvIHdlIGRvbid0IGVtaXQgdGhlIGZpbGUgYmVmb3JlIGl0J3MgZG9uZSBiZWluZyB3cml0dGVuXG4gIHZhciBvdXRzdGFuZGluZ1dyaXRlcyA9IDA7XG5cbiAgc2VsZi5fcGFyc2VyLm9uKCdkYXRhJywgZnVuY3Rpb24oYnVmZmVyKXtcbiAgICBzZWxmLnBhdXNlKCk7XG4gICAgb3V0c3RhbmRpbmdXcml0ZXMrKztcblxuICAgIGZpbGUud3JpdGUoYnVmZmVyLCBmdW5jdGlvbigpIHtcbiAgICAgIG91dHN0YW5kaW5nV3JpdGVzLS07XG4gICAgICBzZWxmLnJlc3VtZSgpO1xuXG4gICAgICBpZihzZWxmLmVuZGVkKXtcbiAgICAgICAgc2VsZi5fcGFyc2VyLmVtaXQoJ2RvbmVXcml0aW5nRmlsZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBzZWxmLl9wYXJzZXIub24oJ2VuZCcsIGZ1bmN0aW9uKCl7XG4gICAgc2VsZi5fZmx1c2hpbmctLTtcbiAgICBzZWxmLmVuZGVkID0gdHJ1ZTtcblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oKXtcbiAgICAgIGZpbGUuZW5kKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2ZpbGUnLCAnZmlsZScsIGZpbGUpO1xuICAgICAgICBzZWxmLl9tYXliZUVuZCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmKG91dHN0YW5kaW5nV3JpdGVzID09PSAwKXtcbiAgICAgIGRvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5fcGFyc2VyLm9uY2UoJ2RvbmVXcml0aW5nRmlsZScsIGRvbmUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9pbml0SlNPTmVuY29kZWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50eXBlID0gJ2pzb24nO1xuXG4gIHZhciBwYXJzZXIgPSBuZXcgSlNPTlBhcnNlcih0aGlzKVxuICAgICwgc2VsZiA9IHRoaXM7XG5cbiAgcGFyc2VyLm9uRmllbGQgPSBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgIHNlbGYuZW1pdCgnZmllbGQnLCBrZXksIHZhbCk7XG4gIH07XG5cbiAgcGFyc2VyLm9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbmRlZCA9IHRydWU7XG4gICAgc2VsZi5fbWF5YmVFbmQoKTtcbiAgfTtcblxuICB0aGlzLl9wYXJzZXIgPSBwYXJzZXI7XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl91cGxvYWRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgdmFyIGJ1ZiA9IGNyeXB0by5yYW5kb21CeXRlcygxNik7XG4gIHZhciBuYW1lID0gJ3VwbG9hZF8nICsgYnVmLnRvU3RyaW5nKCdoZXgnKTtcblxuICBpZiAodGhpcy5rZWVwRXh0ZW5zaW9ucykge1xuICAgIHZhciBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZW5hbWUpO1xuICAgIGV4dCAgICAgPSBleHQucmVwbGFjZSgvKFxcLlthLXowLTldKykuKi9pLCAnJDEnKTtcblxuICAgIG5hbWUgKz0gZXh0O1xuICB9XG5cbiAgcmV0dXJuIHBhdGguam9pbih0aGlzLnVwbG9hZERpciwgbmFtZSk7XG59O1xuXG5JbmNvbWluZ0Zvcm0ucHJvdG90eXBlLl9tYXliZUVuZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuZW5kZWQgfHwgdGhpcy5fZmx1c2hpbmcgfHwgdGhpcy5lcnJvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZW1pdCgnZW5kJyk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/incoming_form.js\n");

/***/ }),

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/index.js":
/*!*****************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/index.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var IncomingForm = (__webpack_require__(/*! ./incoming_form */ \"(rsc)/./paapi5/node_modules/formidable/lib/incoming_form.js\").IncomingForm);\nIncomingForm.IncomingForm = IncomingForm;\nmodule.exports = IncomingForm;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQix3SEFBdUM7QUFDMUQ7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxGdWppdHN1XFxEZXNrdG9wXFxjdXBvbnNcXHBhYXBpNVxcbm9kZV9tb2R1bGVzXFxmb3JtaWRhYmxlXFxsaWJcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBJbmNvbWluZ0Zvcm0gPSByZXF1aXJlKCcuL2luY29taW5nX2Zvcm0nKS5JbmNvbWluZ0Zvcm07XG5JbmNvbWluZ0Zvcm0uSW5jb21pbmdGb3JtID0gSW5jb21pbmdGb3JtO1xubW9kdWxlLmV4cG9ydHMgPSBJbmNvbWluZ0Zvcm07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/json_parser.js":
/*!***********************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/json_parser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("if (false) {}\n\nvar Buffer = (__webpack_require__(/*! buffer */ \"buffer\").Buffer);\n\nfunction JSONParser(parent) {\n  this.parent = parent;\n  this.chunks = [];\n  this.bytesWritten = 0;\n}\nexports.JSONParser = JSONParser;\n\nJSONParser.prototype.write = function(buffer) {\n  this.bytesWritten += buffer.length;\n  this.chunks.push(buffer);\n  return buffer.length;\n};\n\nJSONParser.prototype.end = function() {\n  try {\n    var fields = JSON.parse(Buffer.concat(this.chunks));\n    for (var field in fields) {\n      this.onField(field, fields[field]);\n    }\n  } catch (e) {\n    this.parent.emit('error', e);\n  }\n  this.data = null;\n\n  this.onEnd();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL2pzb25fcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFBLElBQUksS0FBYSxFQUFFLEVBQWlDOztBQUVwRCxhQUFhLG9EQUF3Qjs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRnVqaXRzdVxcRGVza3RvcFxcY3Vwb25zXFxwYWFwaTVcXG5vZGVfbW9kdWxlc1xcZm9ybWlkYWJsZVxcbGliXFxqc29uX3BhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpZiAoZ2xvYmFsLkdFTlRMWSkgcmVxdWlyZSA9IEdFTlRMWS5oaWphY2socmVxdWlyZSk7XG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbmZ1bmN0aW9uIEpTT05QYXJzZXIocGFyZW50KSB7XG4gIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICB0aGlzLmNodW5rcyA9IFtdO1xuICB0aGlzLmJ5dGVzV3JpdHRlbiA9IDA7XG59XG5leHBvcnRzLkpTT05QYXJzZXIgPSBKU09OUGFyc2VyO1xuXG5KU09OUGFyc2VyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICB0aGlzLmJ5dGVzV3JpdHRlbiArPSBidWZmZXIubGVuZ3RoO1xuICB0aGlzLmNodW5rcy5wdXNoKGJ1ZmZlcik7XG4gIHJldHVybiBidWZmZXIubGVuZ3RoO1xufTtcblxuSlNPTlBhcnNlci5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZpZWxkcyA9IEpTT04ucGFyc2UoQnVmZmVyLmNvbmNhdCh0aGlzLmNodW5rcykpO1xuICAgIGZvciAodmFyIGZpZWxkIGluIGZpZWxkcykge1xuICAgICAgdGhpcy5vbkZpZWxkKGZpZWxkLCBmaWVsZHNbZmllbGRdKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aGlzLnBhcmVudC5lbWl0KCdlcnJvcicsIGUpO1xuICB9XG4gIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgdGhpcy5vbkVuZCgpO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/json_parser.js\n");

/***/ }),

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/multipart_parser.js":
/*!****************************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/multipart_parser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var Buffer = (__webpack_require__(/*! buffer */ \"buffer\").Buffer),\n    s = 0,\n    S =\n    { PARSER_UNINITIALIZED: s++,\n      START: s++,\n      START_BOUNDARY: s++,\n      HEADER_FIELD_START: s++,\n      HEADER_FIELD: s++,\n      HEADER_VALUE_START: s++,\n      HEADER_VALUE: s++,\n      HEADER_VALUE_ALMOST_DONE: s++,\n      HEADERS_ALMOST_DONE: s++,\n      PART_DATA_START: s++,\n      PART_DATA: s++,\n      PART_END: s++,\n      END: s++\n    },\n\n    f = 1,\n    F =\n    { PART_BOUNDARY: f,\n      LAST_BOUNDARY: f *= 2\n    },\n\n    LF = 10,\n    CR = 13,\n    SPACE = 32,\n    HYPHEN = 45,\n    COLON = 58,\n    A = 97,\n    Z = 122,\n\n    lower = function(c) {\n      return c | 0x20;\n    };\n\nfor (s in S) {\n  exports[s] = S[s];\n}\n\nfunction MultipartParser() {\n  this.boundary = null;\n  this.boundaryChars = null;\n  this.lookbehind = null;\n  this.state = S.PARSER_UNINITIALIZED;\n\n  this.index = null;\n  this.flags = 0;\n}\nexports.MultipartParser = MultipartParser;\n\nMultipartParser.stateToString = function(stateNumber) {\n  for (var state in S) {\n    var number = S[state];\n    if (number === stateNumber) return state;\n  }\n};\n\nMultipartParser.prototype.initWithBoundary = function(str) {\n  this.boundary = new Buffer(str.length+4);\n  this.boundary.write('\\r\\n--', 0);\n  this.boundary.write(str, 4);\n  this.lookbehind = new Buffer(this.boundary.length+8);\n  this.state = S.START;\n\n  this.boundaryChars = {};\n  for (var i = 0; i < this.boundary.length; i++) {\n    this.boundaryChars[this.boundary[i]] = true;\n  }\n};\n\nMultipartParser.prototype.write = function(buffer) {\n  var self = this,\n      i = 0,\n      len = buffer.length,\n      prevIndex = this.index,\n      index = this.index,\n      state = this.state,\n      flags = this.flags,\n      lookbehind = this.lookbehind,\n      boundary = this.boundary,\n      boundaryChars = this.boundaryChars,\n      boundaryLength = this.boundary.length,\n      boundaryEnd = boundaryLength - 1,\n      bufferLength = buffer.length,\n      c,\n      cl,\n\n      mark = function(name) {\n        self[name+'Mark'] = i;\n      },\n      clear = function(name) {\n        delete self[name+'Mark'];\n      },\n      callback = function(name, buffer, start, end) {\n        if (start !== undefined && start === end) {\n          return;\n        }\n\n        var callbackSymbol = 'on'+name.substr(0, 1).toUpperCase()+name.substr(1);\n        if (callbackSymbol in self) {\n          self[callbackSymbol](buffer, start, end);\n        }\n      },\n      dataCallback = function(name, clear) {\n        var markSymbol = name+'Mark';\n        if (!(markSymbol in self)) {\n          return;\n        }\n\n        if (!clear) {\n          callback(name, buffer, self[markSymbol], buffer.length);\n          self[markSymbol] = 0;\n        } else {\n          callback(name, buffer, self[markSymbol], i);\n          delete self[markSymbol];\n        }\n      };\n\n  for (i = 0; i < len; i++) {\n    c = buffer[i];\n    switch (state) {\n      case S.PARSER_UNINITIALIZED:\n        return i;\n      case S.START:\n        index = 0;\n        state = S.START_BOUNDARY;\n      case S.START_BOUNDARY:\n        if (index == boundary.length - 2) {\n          if (c == HYPHEN) {\n            flags |= F.LAST_BOUNDARY;\n          } else if (c != CR) {\n            return i;\n          }\n          index++;\n          break;\n        } else if (index - 1 == boundary.length - 2) {\n          if (flags & F.LAST_BOUNDARY && c == HYPHEN){\n            callback('end');\n            state = S.END;\n            flags = 0;\n          } else if (!(flags & F.LAST_BOUNDARY) && c == LF) {\n            index = 0;\n            callback('partBegin');\n            state = S.HEADER_FIELD_START;\n          } else {\n            return i;\n          }\n          break;\n        }\n\n        if (c != boundary[index+2]) {\n          index = -2;\n        }\n        if (c == boundary[index+2]) {\n          index++;\n        }\n        break;\n      case S.HEADER_FIELD_START:\n        state = S.HEADER_FIELD;\n        mark('headerField');\n        index = 0;\n      case S.HEADER_FIELD:\n        if (c == CR) {\n          clear('headerField');\n          state = S.HEADERS_ALMOST_DONE;\n          break;\n        }\n\n        index++;\n        if (c == HYPHEN) {\n          break;\n        }\n\n        if (c == COLON) {\n          if (index == 1) {\n            // empty header field\n            return i;\n          }\n          dataCallback('headerField', true);\n          state = S.HEADER_VALUE_START;\n          break;\n        }\n\n        cl = lower(c);\n        if (cl < A || cl > Z) {\n          return i;\n        }\n        break;\n      case S.HEADER_VALUE_START:\n        if (c == SPACE) {\n          break;\n        }\n\n        mark('headerValue');\n        state = S.HEADER_VALUE;\n      case S.HEADER_VALUE:\n        if (c == CR) {\n          dataCallback('headerValue', true);\n          callback('headerEnd');\n          state = S.HEADER_VALUE_ALMOST_DONE;\n        }\n        break;\n      case S.HEADER_VALUE_ALMOST_DONE:\n        if (c != LF) {\n          return i;\n        }\n        state = S.HEADER_FIELD_START;\n        break;\n      case S.HEADERS_ALMOST_DONE:\n        if (c != LF) {\n          return i;\n        }\n\n        callback('headersEnd');\n        state = S.PART_DATA_START;\n        break;\n      case S.PART_DATA_START:\n        state = S.PART_DATA;\n        mark('partData');\n      case S.PART_DATA:\n        prevIndex = index;\n\n        if (index === 0) {\n          // boyer-moore derrived algorithm to safely skip non-boundary data\n          i += boundaryEnd;\n          while (i < bufferLength && !(buffer[i] in boundaryChars)) {\n            i += boundaryLength;\n          }\n          i -= boundaryEnd;\n          c = buffer[i];\n        }\n\n        if (index < boundary.length) {\n          if (boundary[index] == c) {\n            if (index === 0) {\n              dataCallback('partData', true);\n            }\n            index++;\n          } else {\n            index = 0;\n          }\n        } else if (index == boundary.length) {\n          index++;\n          if (c == CR) {\n            // CR = part boundary\n            flags |= F.PART_BOUNDARY;\n          } else if (c == HYPHEN) {\n            // HYPHEN = end boundary\n            flags |= F.LAST_BOUNDARY;\n          } else {\n            index = 0;\n          }\n        } else if (index - 1 == boundary.length)  {\n          if (flags & F.PART_BOUNDARY) {\n            index = 0;\n            if (c == LF) {\n              // unset the PART_BOUNDARY flag\n              flags &= ~F.PART_BOUNDARY;\n              callback('partEnd');\n              callback('partBegin');\n              state = S.HEADER_FIELD_START;\n              break;\n            }\n          } else if (flags & F.LAST_BOUNDARY) {\n            if (c == HYPHEN) {\n              callback('partEnd');\n              callback('end');\n              state = S.END;\n              flags = 0;\n            } else {\n              index = 0;\n            }\n          } else {\n            index = 0;\n          }\n        }\n\n        if (index > 0) {\n          // when matching a possible boundary, keep a lookbehind reference\n          // in case it turns out to be a false lead\n          lookbehind[index-1] = c;\n        } else if (prevIndex > 0) {\n          // if our boundary turned out to be rubbish, the captured lookbehind\n          // belongs to partData\n          callback('partData', lookbehind, 0, prevIndex);\n          prevIndex = 0;\n          mark('partData');\n\n          // reconsider the current character even so it interrupted the sequence\n          // it could be the beginning of a new sequence\n          i--;\n        }\n\n        break;\n      case S.END:\n        break;\n      default:\n        return i;\n    }\n  }\n\n  dataCallback('headerField');\n  dataCallback('headerValue');\n  dataCallback('partData');\n\n  this.index = index;\n  this.state = state;\n  this.flags = flags;\n\n  return len;\n};\n\nMultipartParser.prototype.end = function() {\n  var callback = function(self, name) {\n    var callbackSymbol = 'on'+name.substr(0, 1).toUpperCase()+name.substr(1);\n    if (callbackSymbol in self) {\n      self[callbackSymbol]();\n    }\n  };\n  if ((this.state == S.HEADER_FIELD_START && this.index === 0) ||\n      (this.state == S.PART_DATA && this.index == this.boundary.length)) {\n    callback(this, 'partEnd');\n    callback(this, 'end');\n  } else if (this.state != S.END) {\n    return new Error('MultipartParser.end(): stream ended unexpectedly: ' + this.explain());\n  }\n};\n\nMultipartParser.prototype.explain = function() {\n  return 'state = ' + MultipartParser.stateToString(this.state);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL211bHRpcGFydF9wYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxvREFBd0I7QUFDckM7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRnVqaXRzdVxcRGVza3RvcFxcY3Vwb25zXFxwYWFwaTVcXG5vZGVfbW9kdWxlc1xcZm9ybWlkYWJsZVxcbGliXFxtdWx0aXBhcnRfcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXIsXG4gICAgcyA9IDAsXG4gICAgUyA9XG4gICAgeyBQQVJTRVJfVU5JTklUSUFMSVpFRDogcysrLFxuICAgICAgU1RBUlQ6IHMrKyxcbiAgICAgIFNUQVJUX0JPVU5EQVJZOiBzKyssXG4gICAgICBIRUFERVJfRklFTERfU1RBUlQ6IHMrKyxcbiAgICAgIEhFQURFUl9GSUVMRDogcysrLFxuICAgICAgSEVBREVSX1ZBTFVFX1NUQVJUOiBzKyssXG4gICAgICBIRUFERVJfVkFMVUU6IHMrKyxcbiAgICAgIEhFQURFUl9WQUxVRV9BTE1PU1RfRE9ORTogcysrLFxuICAgICAgSEVBREVSU19BTE1PU1RfRE9ORTogcysrLFxuICAgICAgUEFSVF9EQVRBX1NUQVJUOiBzKyssXG4gICAgICBQQVJUX0RBVEE6IHMrKyxcbiAgICAgIFBBUlRfRU5EOiBzKyssXG4gICAgICBFTkQ6IHMrK1xuICAgIH0sXG5cbiAgICBmID0gMSxcbiAgICBGID1cbiAgICB7IFBBUlRfQk9VTkRBUlk6IGYsXG4gICAgICBMQVNUX0JPVU5EQVJZOiBmICo9IDJcbiAgICB9LFxuXG4gICAgTEYgPSAxMCxcbiAgICBDUiA9IDEzLFxuICAgIFNQQUNFID0gMzIsXG4gICAgSFlQSEVOID0gNDUsXG4gICAgQ09MT04gPSA1OCxcbiAgICBBID0gOTcsXG4gICAgWiA9IDEyMixcblxuICAgIGxvd2VyID0gZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuIGMgfCAweDIwO1xuICAgIH07XG5cbmZvciAocyBpbiBTKSB7XG4gIGV4cG9ydHNbc10gPSBTW3NdO1xufVxuXG5mdW5jdGlvbiBNdWx0aXBhcnRQYXJzZXIoKSB7XG4gIHRoaXMuYm91bmRhcnkgPSBudWxsO1xuICB0aGlzLmJvdW5kYXJ5Q2hhcnMgPSBudWxsO1xuICB0aGlzLmxvb2tiZWhpbmQgPSBudWxsO1xuICB0aGlzLnN0YXRlID0gUy5QQVJTRVJfVU5JTklUSUFMSVpFRDtcblxuICB0aGlzLmluZGV4ID0gbnVsbDtcbiAgdGhpcy5mbGFncyA9IDA7XG59XG5leHBvcnRzLk11bHRpcGFydFBhcnNlciA9IE11bHRpcGFydFBhcnNlcjtcblxuTXVsdGlwYXJ0UGFyc2VyLnN0YXRlVG9TdHJpbmcgPSBmdW5jdGlvbihzdGF0ZU51bWJlcikge1xuICBmb3IgKHZhciBzdGF0ZSBpbiBTKSB7XG4gICAgdmFyIG51bWJlciA9IFNbc3RhdGVdO1xuICAgIGlmIChudW1iZXIgPT09IHN0YXRlTnVtYmVyKSByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbk11bHRpcGFydFBhcnNlci5wcm90b3R5cGUuaW5pdFdpdGhCb3VuZGFyeSA9IGZ1bmN0aW9uKHN0cikge1xuICB0aGlzLmJvdW5kYXJ5ID0gbmV3IEJ1ZmZlcihzdHIubGVuZ3RoKzQpO1xuICB0aGlzLmJvdW5kYXJ5LndyaXRlKCdcXHJcXG4tLScsIDApO1xuICB0aGlzLmJvdW5kYXJ5LndyaXRlKHN0ciwgNCk7XG4gIHRoaXMubG9va2JlaGluZCA9IG5ldyBCdWZmZXIodGhpcy5ib3VuZGFyeS5sZW5ndGgrOCk7XG4gIHRoaXMuc3RhdGUgPSBTLlNUQVJUO1xuXG4gIHRoaXMuYm91bmRhcnlDaGFycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRhcnkubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLmJvdW5kYXJ5Q2hhcnNbdGhpcy5ib3VuZGFyeVtpXV0gPSB0cnVlO1xuICB9XG59O1xuXG5NdWx0aXBhcnRQYXJzZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGkgPSAwLFxuICAgICAgbGVuID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHByZXZJbmRleCA9IHRoaXMuaW5kZXgsXG4gICAgICBpbmRleCA9IHRoaXMuaW5kZXgsXG4gICAgICBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICBmbGFncyA9IHRoaXMuZmxhZ3MsXG4gICAgICBsb29rYmVoaW5kID0gdGhpcy5sb29rYmVoaW5kLFxuICAgICAgYm91bmRhcnkgPSB0aGlzLmJvdW5kYXJ5LFxuICAgICAgYm91bmRhcnlDaGFycyA9IHRoaXMuYm91bmRhcnlDaGFycyxcbiAgICAgIGJvdW5kYXJ5TGVuZ3RoID0gdGhpcy5ib3VuZGFyeS5sZW5ndGgsXG4gICAgICBib3VuZGFyeUVuZCA9IGJvdW5kYXJ5TGVuZ3RoIC0gMSxcbiAgICAgIGJ1ZmZlckxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICBjLFxuICAgICAgY2wsXG5cbiAgICAgIG1hcmsgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHNlbGZbbmFtZSsnTWFyayddID0gaTtcbiAgICAgIH0sXG4gICAgICBjbGVhciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbbmFtZSsnTWFyayddO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24obmFtZSwgYnVmZmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChzdGFydCAhPT0gdW5kZWZpbmVkICYmIHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FsbGJhY2tTeW1ib2wgPSAnb24nK25hbWUuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkrbmFtZS5zdWJzdHIoMSk7XG4gICAgICAgIGlmIChjYWxsYmFja1N5bWJvbCBpbiBzZWxmKSB7XG4gICAgICAgICAgc2VsZltjYWxsYmFja1N5bWJvbF0oYnVmZmVyLCBzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRhdGFDYWxsYmFjayA9IGZ1bmN0aW9uKG5hbWUsIGNsZWFyKSB7XG4gICAgICAgIHZhciBtYXJrU3ltYm9sID0gbmFtZSsnTWFyayc7XG4gICAgICAgIGlmICghKG1hcmtTeW1ib2wgaW4gc2VsZikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNsZWFyKSB7XG4gICAgICAgICAgY2FsbGJhY2sobmFtZSwgYnVmZmVyLCBzZWxmW21hcmtTeW1ib2xdLCBidWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICBzZWxmW21hcmtTeW1ib2xdID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhuYW1lLCBidWZmZXIsIHNlbGZbbWFya1N5bWJvbF0sIGkpO1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW21hcmtTeW1ib2xdO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGMgPSBidWZmZXJbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBTLlBBUlNFUl9VTklOSVRJQUxJWkVEOlxuICAgICAgICByZXR1cm4gaTtcbiAgICAgIGNhc2UgUy5TVEFSVDpcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICBzdGF0ZSA9IFMuU1RBUlRfQk9VTkRBUlk7XG4gICAgICBjYXNlIFMuU1RBUlRfQk9VTkRBUlk6XG4gICAgICAgIGlmIChpbmRleCA9PSBib3VuZGFyeS5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgaWYgKGMgPT0gSFlQSEVOKSB7XG4gICAgICAgICAgICBmbGFncyB8PSBGLkxBU1RfQk9VTkRBUlk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjICE9IENSKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCAtIDEgPT0gYm91bmRhcnkubGVuZ3RoIC0gMikge1xuICAgICAgICAgIGlmIChmbGFncyAmIEYuTEFTVF9CT1VOREFSWSAmJiBjID09IEhZUEhFTil7XG4gICAgICAgICAgICBjYWxsYmFjaygnZW5kJyk7XG4gICAgICAgICAgICBzdGF0ZSA9IFMuRU5EO1xuICAgICAgICAgICAgZmxhZ3MgPSAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIShmbGFncyAmIEYuTEFTVF9CT1VOREFSWSkgJiYgYyA9PSBMRikge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgY2FsbGJhY2soJ3BhcnRCZWdpbicpO1xuICAgICAgICAgICAgc3RhdGUgPSBTLkhFQURFUl9GSUVMRF9TVEFSVDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgIT0gYm91bmRhcnlbaW5kZXgrMl0pIHtcbiAgICAgICAgICBpbmRleCA9IC0yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjID09IGJvdW5kYXJ5W2luZGV4KzJdKSB7XG4gICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUy5IRUFERVJfRklFTERfU1RBUlQ6XG4gICAgICAgIHN0YXRlID0gUy5IRUFERVJfRklFTEQ7XG4gICAgICAgIG1hcmsoJ2hlYWRlckZpZWxkJyk7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgIGNhc2UgUy5IRUFERVJfRklFTEQ6XG4gICAgICAgIGlmIChjID09IENSKSB7XG4gICAgICAgICAgY2xlYXIoJ2hlYWRlckZpZWxkJyk7XG4gICAgICAgICAgc3RhdGUgPSBTLkhFQURFUlNfQUxNT1NUX0RPTkU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCsrO1xuICAgICAgICBpZiAoYyA9PSBIWVBIRU4pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09IENPTE9OKSB7XG4gICAgICAgICAgaWYgKGluZGV4ID09IDEpIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IGhlYWRlciBmaWVsZFxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFDYWxsYmFjaygnaGVhZGVyRmllbGQnLCB0cnVlKTtcbiAgICAgICAgICBzdGF0ZSA9IFMuSEVBREVSX1ZBTFVFX1NUQVJUO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2wgPSBsb3dlcihjKTtcbiAgICAgICAgaWYgKGNsIDwgQSB8fCBjbCA+IFopIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUy5IRUFERVJfVkFMVUVfU1RBUlQ6XG4gICAgICAgIGlmIChjID09IFNQQUNFKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrKCdoZWFkZXJWYWx1ZScpO1xuICAgICAgICBzdGF0ZSA9IFMuSEVBREVSX1ZBTFVFO1xuICAgICAgY2FzZSBTLkhFQURFUl9WQUxVRTpcbiAgICAgICAgaWYgKGMgPT0gQ1IpIHtcbiAgICAgICAgICBkYXRhQ2FsbGJhY2soJ2hlYWRlclZhbHVlJywgdHJ1ZSk7XG4gICAgICAgICAgY2FsbGJhY2soJ2hlYWRlckVuZCcpO1xuICAgICAgICAgIHN0YXRlID0gUy5IRUFERVJfVkFMVUVfQUxNT1NUX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFMuSEVBREVSX1ZBTFVFX0FMTU9TVF9ET05FOlxuICAgICAgICBpZiAoYyAhPSBMRikge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0gUy5IRUFERVJfRklFTERfU1RBUlQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTLkhFQURFUlNfQUxNT1NUX0RPTkU6XG4gICAgICAgIGlmIChjICE9IExGKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjaygnaGVhZGVyc0VuZCcpO1xuICAgICAgICBzdGF0ZSA9IFMuUEFSVF9EQVRBX1NUQVJUO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUy5QQVJUX0RBVEFfU1RBUlQ6XG4gICAgICAgIHN0YXRlID0gUy5QQVJUX0RBVEE7XG4gICAgICAgIG1hcmsoJ3BhcnREYXRhJyk7XG4gICAgICBjYXNlIFMuUEFSVF9EQVRBOlxuICAgICAgICBwcmV2SW5kZXggPSBpbmRleDtcblxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAvLyBib3llci1tb29yZSBkZXJyaXZlZCBhbGdvcml0aG0gdG8gc2FmZWx5IHNraXAgbm9uLWJvdW5kYXJ5IGRhdGFcbiAgICAgICAgICBpICs9IGJvdW5kYXJ5RW5kO1xuICAgICAgICAgIHdoaWxlIChpIDwgYnVmZmVyTGVuZ3RoICYmICEoYnVmZmVyW2ldIGluIGJvdW5kYXJ5Q2hhcnMpKSB7XG4gICAgICAgICAgICBpICs9IGJvdW5kYXJ5TGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpIC09IGJvdW5kYXJ5RW5kO1xuICAgICAgICAgIGMgPSBidWZmZXJbaV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggPCBib3VuZGFyeS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoYm91bmRhcnlbaW5kZXhdID09IGMpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICBkYXRhQ2FsbGJhY2soJ3BhcnREYXRhJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09IGJvdW5kYXJ5Lmxlbmd0aCkge1xuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgaWYgKGMgPT0gQ1IpIHtcbiAgICAgICAgICAgIC8vIENSID0gcGFydCBib3VuZGFyeVxuICAgICAgICAgICAgZmxhZ3MgfD0gRi5QQVJUX0JPVU5EQVJZO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSBIWVBIRU4pIHtcbiAgICAgICAgICAgIC8vIEhZUEhFTiA9IGVuZCBib3VuZGFyeVxuICAgICAgICAgICAgZmxhZ3MgfD0gRi5MQVNUX0JPVU5EQVJZO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4IC0gMSA9PSBib3VuZGFyeS5sZW5ndGgpICB7XG4gICAgICAgICAgaWYgKGZsYWdzICYgRi5QQVJUX0JPVU5EQVJZKSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAoYyA9PSBMRikge1xuICAgICAgICAgICAgICAvLyB1bnNldCB0aGUgUEFSVF9CT1VOREFSWSBmbGFnXG4gICAgICAgICAgICAgIGZsYWdzICY9IH5GLlBBUlRfQk9VTkRBUlk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCdwYXJ0RW5kJyk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCdwYXJ0QmVnaW4nKTtcbiAgICAgICAgICAgICAgc3RhdGUgPSBTLkhFQURFUl9GSUVMRF9TVEFSVDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChmbGFncyAmIEYuTEFTVF9CT1VOREFSWSkge1xuICAgICAgICAgICAgaWYgKGMgPT0gSFlQSEVOKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCdwYXJ0RW5kJyk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCdlbmQnKTtcbiAgICAgICAgICAgICAgc3RhdGUgPSBTLkVORDtcbiAgICAgICAgICAgICAgZmxhZ3MgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgIC8vIHdoZW4gbWF0Y2hpbmcgYSBwb3NzaWJsZSBib3VuZGFyeSwga2VlcCBhIGxvb2tiZWhpbmQgcmVmZXJlbmNlXG4gICAgICAgICAgLy8gaW4gY2FzZSBpdCB0dXJucyBvdXQgdG8gYmUgYSBmYWxzZSBsZWFkXG4gICAgICAgICAgbG9va2JlaGluZFtpbmRleC0xXSA9IGM7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldkluZGV4ID4gMCkge1xuICAgICAgICAgIC8vIGlmIG91ciBib3VuZGFyeSB0dXJuZWQgb3V0IHRvIGJlIHJ1YmJpc2gsIHRoZSBjYXB0dXJlZCBsb29rYmVoaW5kXG4gICAgICAgICAgLy8gYmVsb25ncyB0byBwYXJ0RGF0YVxuICAgICAgICAgIGNhbGxiYWNrKCdwYXJ0RGF0YScsIGxvb2tiZWhpbmQsIDAsIHByZXZJbmRleCk7XG4gICAgICAgICAgcHJldkluZGV4ID0gMDtcbiAgICAgICAgICBtYXJrKCdwYXJ0RGF0YScpO1xuXG4gICAgICAgICAgLy8gcmVjb25zaWRlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZXZlbiBzbyBpdCBpbnRlcnJ1cHRlZCB0aGUgc2VxdWVuY2VcbiAgICAgICAgICAvLyBpdCBjb3VsZCBiZSB0aGUgYmVnaW5uaW5nIG9mIGEgbmV3IHNlcXVlbmNlXG4gICAgICAgICAgaS0tO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFMuRU5EOlxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIGRhdGFDYWxsYmFjaygnaGVhZGVyRmllbGQnKTtcbiAgZGF0YUNhbGxiYWNrKCdoZWFkZXJWYWx1ZScpO1xuICBkYXRhQ2FsbGJhY2soJ3BhcnREYXRhJyk7XG5cbiAgdGhpcy5pbmRleCA9IGluZGV4O1xuICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIHRoaXMuZmxhZ3MgPSBmbGFncztcblxuICByZXR1cm4gbGVuO1xufTtcblxuTXVsdGlwYXJ0UGFyc2VyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oc2VsZiwgbmFtZSkge1xuICAgIHZhciBjYWxsYmFja1N5bWJvbCA9ICdvbicrbmFtZS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKStuYW1lLnN1YnN0cigxKTtcbiAgICBpZiAoY2FsbGJhY2tTeW1ib2wgaW4gc2VsZikge1xuICAgICAgc2VsZltjYWxsYmFja1N5bWJvbF0oKTtcbiAgICB9XG4gIH07XG4gIGlmICgodGhpcy5zdGF0ZSA9PSBTLkhFQURFUl9GSUVMRF9TVEFSVCAmJiB0aGlzLmluZGV4ID09PSAwKSB8fFxuICAgICAgKHRoaXMuc3RhdGUgPT0gUy5QQVJUX0RBVEEgJiYgdGhpcy5pbmRleCA9PSB0aGlzLmJvdW5kYXJ5Lmxlbmd0aCkpIHtcbiAgICBjYWxsYmFjayh0aGlzLCAncGFydEVuZCcpO1xuICAgIGNhbGxiYWNrKHRoaXMsICdlbmQnKTtcbiAgfSBlbHNlIGlmICh0aGlzLnN0YXRlICE9IFMuRU5EKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignTXVsdGlwYXJ0UGFyc2VyLmVuZCgpOiBzdHJlYW0gZW5kZWQgdW5leHBlY3RlZGx5OiAnICsgdGhpcy5leHBsYWluKCkpO1xuICB9XG59O1xuXG5NdWx0aXBhcnRQYXJzZXIucHJvdG90eXBlLmV4cGxhaW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICdzdGF0ZSA9ICcgKyBNdWx0aXBhcnRQYXJzZXIuc3RhdGVUb1N0cmluZyh0aGlzLnN0YXRlKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/multipart_parser.js\n");

/***/ }),

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/octet_parser.js":
/*!************************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/octet_parser.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var EventEmitter = (__webpack_require__(/*! events */ \"events\").EventEmitter)\n\t, util = __webpack_require__(/*! util */ \"util\");\n\nfunction OctetParser(options){\n\tif(!(this instanceof OctetParser)) return new OctetParser(options);\n\tEventEmitter.call(this);\n}\n\nutil.inherits(OctetParser, EventEmitter);\n\nexports.OctetParser = OctetParser;\n\nOctetParser.prototype.write = function(buffer) {\n    this.emit('data', buffer);\n\treturn buffer.length;\n};\n\nOctetParser.prototype.end = function() {\n\tthis.emit('end');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL29jdGV0X3BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUIsMERBQThCO0FBQ2pELFVBQVUsbUJBQU8sQ0FBQyxrQkFBTTs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1COztBQUVuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRnVqaXRzdVxcRGVza3RvcFxcY3Vwb25zXFxwYWFwaTVcXG5vZGVfbW9kdWxlc1xcZm9ybWlkYWJsZVxcbGliXFxvY3RldF9wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXHQsIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbmZ1bmN0aW9uIE9jdGV0UGFyc2VyKG9wdGlvbnMpe1xuXHRpZighKHRoaXMgaW5zdGFuY2VvZiBPY3RldFBhcnNlcikpIHJldHVybiBuZXcgT2N0ZXRQYXJzZXIob3B0aW9ucyk7XG5cdEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xufVxuXG51dGlsLmluaGVyaXRzKE9jdGV0UGFyc2VyLCBFdmVudEVtaXR0ZXIpO1xuXG5leHBvcnRzLk9jdGV0UGFyc2VyID0gT2N0ZXRQYXJzZXI7XG5cbk9jdGV0UGFyc2VyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgIHRoaXMuZW1pdCgnZGF0YScsIGJ1ZmZlcik7XG5cdHJldHVybiBidWZmZXIubGVuZ3RoO1xufTtcblxuT2N0ZXRQYXJzZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmVtaXQoJ2VuZCcpO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/octet_parser.js\n");

/***/ }),

/***/ "(rsc)/./paapi5/node_modules/formidable/lib/querystring_parser.js":
/*!******************************************************************!*\
  !*** ./paapi5/node_modules/formidable/lib/querystring_parser.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("if (false) {}\n\n// This is a buffering parser, not quite as nice as the multipart one.\n// If I find time I'll rewrite this to be fully streaming as well\nvar querystring = __webpack_require__(/*! querystring */ \"querystring\");\n\nfunction QuerystringParser(maxKeys) {\n  this.maxKeys = maxKeys;\n  this.buffer = '';\n}\nexports.QuerystringParser = QuerystringParser;\n\nQuerystringParser.prototype.write = function(buffer) {\n  this.buffer += buffer.toString('ascii');\n  return buffer.length;\n};\n\nQuerystringParser.prototype.end = function() {\n  var fields = querystring.parse(this.buffer, '&', '=', { maxKeys: this.maxKeys });\n  for (var field in fields) {\n    this.onField(field, fields[field]);\n  }\n  this.buffer = '';\n\n  this.onEnd();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wYWFwaTUvbm9kZV9tb2R1bGVzL2Zvcm1pZGFibGUvbGliL3F1ZXJ5c3RyaW5nX3BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxJQUFJLEtBQWEsRUFBRSxFQUFpQzs7QUFFcEQ7QUFDQTtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLGdDQUFhOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwREFBMEQsdUJBQXVCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRnVqaXRzdVxcRGVza3RvcFxcY3Vwb25zXFxwYWFwaTVcXG5vZGVfbW9kdWxlc1xcZm9ybWlkYWJsZVxcbGliXFxxdWVyeXN0cmluZ19wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaWYgKGdsb2JhbC5HRU5UTFkpIHJlcXVpcmUgPSBHRU5UTFkuaGlqYWNrKHJlcXVpcmUpO1xuXG4vLyBUaGlzIGlzIGEgYnVmZmVyaW5nIHBhcnNlciwgbm90IHF1aXRlIGFzIG5pY2UgYXMgdGhlIG11bHRpcGFydCBvbmUuXG4vLyBJZiBJIGZpbmQgdGltZSBJJ2xsIHJld3JpdGUgdGhpcyB0byBiZSBmdWxseSBzdHJlYW1pbmcgYXMgd2VsbFxudmFyIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gUXVlcnlzdHJpbmdQYXJzZXIobWF4S2V5cykge1xuICB0aGlzLm1heEtleXMgPSBtYXhLZXlzO1xuICB0aGlzLmJ1ZmZlciA9ICcnO1xufVxuZXhwb3J0cy5RdWVyeXN0cmluZ1BhcnNlciA9IFF1ZXJ5c3RyaW5nUGFyc2VyO1xuXG5RdWVyeXN0cmluZ1BhcnNlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihidWZmZXIpIHtcbiAgdGhpcy5idWZmZXIgKz0gYnVmZmVyLnRvU3RyaW5nKCdhc2NpaScpO1xuICByZXR1cm4gYnVmZmVyLmxlbmd0aDtcbn07XG5cblF1ZXJ5c3RyaW5nUGFyc2VyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGZpZWxkcyA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuYnVmZmVyLCAnJicsICc9JywgeyBtYXhLZXlzOiB0aGlzLm1heEtleXMgfSk7XG4gIGZvciAodmFyIGZpZWxkIGluIGZpZWxkcykge1xuICAgIHRoaXMub25GaWVsZChmaWVsZCwgZmllbGRzW2ZpZWxkXSk7XG4gIH1cbiAgdGhpcy5idWZmZXIgPSAnJztcblxuICB0aGlzLm9uRW5kKCk7XG59O1xuXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./paapi5/node_modules/formidable/lib/querystring_parser.js\n");

/***/ })

};
;